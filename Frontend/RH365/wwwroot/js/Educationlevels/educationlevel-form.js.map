{"version":3,"file":"educationlevel-form.js","sourceRoot":"","sources":["../../../TS/Educationlevels/educationlevel-form.ts"],"names":[],"mappings":"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","sourcesContent":["// ============================================================================\n// Archivo: educationlevel-form.ts\n// Proyecto: RH365.WebMVC\n// Ruta: TS/EducationLevels/educationlevel-form.ts\n// Descripción:\n//   - Form Crear/Editar Niveles Educativos (misma UX que Loan).\n//   - Auditoría en inputs deshabilitados (gris) usando .form-control[disabled].\n//   - Integración con API /api/EducationLevels.\n//   - Labels a la izquierda, validación simple.\n// ============================================================================\n\n(function () {\n    const w: any = window;\n    const d: Document = document;\n    const $: any = w.jQuery || w.$;\n\n    const apiBase: string = w.RH365?.urls?.apiBase || \"\";\n    const pageContainer = d.querySelector(\"#educationlevel-form-page\");\n    if (!pageContainer) return;\n\n    // Contexto\n    const token: string = pageContainer.getAttribute(\"data-token\") || \"\";\n    const dataareaId: string = pageContainer.getAttribute(\"data-dataarea\") || \"DAT\";\n    const userRefRecID: number = parseInt(pageContainer.getAttribute(\"data-user\") || \"0\", 10);\n    const recId: number = parseInt(pageContainer.getAttribute(\"data-recid\") || \"0\", 10);\n    const isNew: boolean = pageContainer.getAttribute(\"data-isnew\") === \"true\";\n\n    // ----------------------------- Definiciones ------------------------------\n    interface FieldConfig {\n        field: string;\n        label: string;\n        type: 'text' | 'number' | 'date' | 'datetime' | 'textarea' | 'select' | 'checkbox';\n        required?: boolean;\n        maxLength?: number;\n        options?: { value: string; text: string }[];\n        placeholder?: string;\n        helpText?: string;\n        readonly?: boolean;\n    }\n\n    const businessFields: FieldConfig[] = [\n        { field: 'EducationLevelCode', label: 'Código Nivel', type: 'text', required: true, maxLength: 40, placeholder: 'Ej: EDU-SEC', helpText: 'Código único del nivel educativo' },\n        { field: 'Description', label: 'Descripción', type: 'text', required: true, maxLength: 200, placeholder: 'Ej: Educación Secundaria' }\n    ];\n\n    // Orden y etiquetas igual que Loan\n    const auditFields: FieldConfig[] = [\n        { field: 'RecID', label: 'RecID (Clave Primaria)', type: 'number', readonly: true },\n        { field: 'ID', label: 'ID Sistema', type: 'text', readonly: true },\n        { field: 'DataareaID', label: 'Empresa (DataareaID)', type: 'text', readonly: true },\n        { field: 'CreatedBy', label: 'Creado Por', type: 'text', readonly: true },\n        { field: 'CreatedOn', label: 'Fecha de Creación', type: 'datetime', readonly: true },\n        { field: 'ModifiedBy', label: 'Modificado Por', type: 'text', readonly: true },\n        { field: 'ModifiedOn', label: 'Fecha de Última Modificación', type: 'datetime', readonly: true }\n    ];\n\n    let educationLevelData: any = null;\n\n    // ------------------------------ Utilidades ------------------------------\n    const fetchJson = async (url: string, options?: RequestInit): Promise<any> => {\n        const headers: Record<string, string> = { 'Accept': 'application/json', 'Content-Type': 'application/json' };\n        if (token) headers['Authorization'] = `Bearer ${token}`;\n        const response = await fetch(url, { ...options, headers });\n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({}));\n            throw new Error(JSON.stringify(errorData));\n        }\n        return response.json();\n    };\n\n    const pad = (n: number) => (n < 10 ? `0${n}` : `${n}`);\n    const formatDateTime = (iso?: string): string => {\n        if (!iso) return '';\n        const dt = new Date(iso);\n        if (isNaN(dt.getTime())) return '';\n        return `${pad(dt.getDate())}/${pad(dt.getMonth() + 1)}/${dt.getFullYear()} ${pad(dt.getHours())}:${pad(dt.getMinutes())}:${pad(dt.getSeconds())}`;\n    };\n\n    // ------------------------------ Render genérico -------------------------\n    const renderField = (config: FieldConfig, value: any, isTwoCol: boolean): string => {\n        const id = config.field;\n        const name = config.field;\n\n        const labelClass = isTwoCol ? 'control-label col-md-4 col-sm-4 col-xs-12'\n            : 'control-label col-md-3 col-sm-3 col-xs-12';\n        const inputWrap = isTwoCol ? 'col-md-8 col-sm-8 col-xs-12'\n            : 'col-md-6 col-sm-6 col-xs-12';\n\n        // === AUDITORÍA READONLY: usar INPUT deshabilitado (gris) como en Loan ===\n        if (config.readonly) {\n            let display = value ?? '';\n            if (config.type === 'datetime') display = formatDateTime(value);\n            // Para aspecto uniforme, usamos type=\"text\" deshabilitado (evita spinners del number)\n            const disabledInput = `<input type=\"text\" class=\"form-control\" value=\"${display}\" disabled readonly>`;\n            return `\n                <div class=\"form-group\">\n                    <label class=\"${labelClass}\">${config.label}</label>\n                    <div class=\"${inputWrap}\">\n                        ${disabledInput}\n                    </div>\n                </div>`;\n        }\n\n        // === Editables (negocio) ===\n        const req = config.required ? 'required' : '';\n        let html = '';\n        let v = value ?? '';\n\n        switch (config.type) {\n            case 'textarea':\n                html = `<textarea id=\"${id}\" name=\"${name}\" class=\"form-control\" rows=\"3\" maxlength=\"${config.maxLength || 500}\" ${req}>${v}</textarea>`;\n                break;\n            case 'select': {\n                const opts = (config.options || [])\n                    .map(o => `<option value=\"${o.value}\" ${String(v) === o.value ? 'selected' : ''}>${o.text}</option>`).join('');\n                html = `<select id=\"${id}\" name=\"${name}\" class=\"form-control\" ${req}>${opts}</select>`;\n                break;\n            }\n            case 'checkbox':\n                html = `<input type=\"checkbox\" id=\"${id}\" name=\"${name}\" class=\"flat\" ${v ? 'checked' : ''}>`;\n                break;\n            case 'datetime':\n                html = `<input type=\"text\" id=\"${id}\" name=\"${name}\" class=\"form-control\" value=\"${formatDateTime(v)}\" ${req}>`;\n                break;\n            case 'date':\n                if (typeof v === 'string' && /^\\d{4}-\\d{2}-\\d{2}T/.test(v)) v = v.split('T')[0];\n                html = `<input type=\"date\" id=\"${id}\" name=\"${name}\" class=\"form-control\" value=\"${v}\" ${req}>`;\n                break;\n            case 'number':\n                html = `<input type=\"number\" step=\"any\" id=\"${id}\" name=\"${name}\" class=\"form-control\" value=\"${v}\" ${req}>`;\n                break;\n            default: // text\n                html = `<input type=\"text\" id=\"${id}\" name=\"${name}\" class=\"form-control\" maxlength=\"${config.maxLength || 255}\" value=\"${v}\" placeholder=\"${config.placeholder || ''}\" ${req}>`;\n                break;\n        }\n\n        const help = config.helpText ? `<span class=\"help-block\">${config.helpText}</span>` : '';\n        const reqMark = config.required ? '<span class=\"required\">*</span>' : '';\n\n        return `\n            <div class=\"form-group\">\n                <label class=\"${labelClass}\" for=\"${id}\">${config.label} ${reqMark}</label>\n                <div class=\"${inputWrap}\">\n                    ${html}\n                    ${help}\n                </div>\n            </div>`;\n    };\n\n    // ------------------------------ Render secciones ------------------------\n    const renderBusinessFields = (data: any) => {\n        const $c = $('#dynamic-fields-container');\n        $c.empty();\n        $c.append(businessFields.map(f => renderField(f, data[f.field], false)).join(''));\n        if ($.fn.iCheck) $('.flat').iCheck({ checkboxClass: 'icheckbox_flat-green' });\n    };\n\n    const renderAuditFields = (data: any) => {\n        const $c = $('#audit-fields-container');\n        $c.empty();\n        // Auditoría → 1 columna (mismas clases que Loan), inputs disabled\n        $c.append(auditFields.map(f => renderField(f, data[f.field], false)).join(''));\n    };\n\n    // ------------------------------ Carga/Guardar ---------------------------\n    const loadEducationLevelData = async () => {\n        try {\n            if (isNew) {\n                educationLevelData = {};\n                renderBusinessFields({});\n                renderAuditFields({});\n                return;\n            }\n            const url = `${apiBase}/EducationLevels/${recId}`;\n            const data = await fetchJson(url);\n            educationLevelData = data;\n            renderBusinessFields(data);\n            renderAuditFields(data);\n        } catch (err) {\n            console.error('Error al cargar:', err);\n            (w as any).ALERTS?.error('Error al cargar el nivel educativo', 'Error');\n        }\n    };\n\n    const getFormData = () => {\n        const out: any = {};\n        businessFields.forEach(f => { const $i = $(`#${f.field}`); if ($i.length) out[f.field] = ($i.val() as string) ?? null; });\n        return out;\n    };\n\n    const saveEducationLevel = async () => {\n        const form = d.getElementById('frm-educationlevel') as HTMLFormElement | null;\n        if (form && !form.checkValidity()) { form.reportValidity(); return; }\n\n        const fd = getFormData();\n        const url = isNew ? `${apiBase}/EducationLevels` : `${apiBase}/EducationLevels/${recId}`;\n        const method = isNew ? 'POST' : 'PUT';\n\n        const payload: any = {\n            EducationLevelCode: (fd.EducationLevelCode || '').trim(),\n            Description: (fd.Description || '').trim()\n        };\n        if (!payload.EducationLevelCode || !payload.Description) {\n            (w as any).ALERTS?.warn('Complete los campos requeridos', 'Validación'); return;\n        }\n        if (!isNew) { payload.RecID = recId; payload.DataareaID = dataareaId; }\n\n        try {\n            await fetchJson(url, { method, body: JSON.stringify(payload) });\n            (w as any).ALERTS?.ok(isNew ? 'Nivel educativo creado' : 'Nivel educativo actualizado', 'Éxito');\n            setTimeout(() => { window.location.href = '/EducationLevel/LP_EducationLevels'; }, 1200);\n        } catch (e: any) {\n            let msg = 'Error al guardar el nivel educativo';\n            try {\n                const ee = JSON.parse(e.message);\n                if (ee?.errors) {\n                    const arr: string[] = [];\n                    for (const k in ee.errors) { const v = ee.errors[k]; if (Array.isArray(v)) arr.push(...v); else if (v) arr.push(v); }\n                    if (arr.length) msg = arr.join(', ');\n                } else if (ee?.title) msg = ee.title; else if (ee?.message) msg = ee.message;\n            } catch { }\n            (w as any).ALERTS?.error(msg, 'Error');\n        }\n    };\n\n    // ------------------------------ Eventos/Init ----------------------------\n    $('#btn-save').on('click', saveEducationLevel);\n\n    $(async function () {\n        await loadEducationLevelData();\n    });\n})();\n"]}