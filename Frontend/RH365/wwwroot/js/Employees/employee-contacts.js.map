{"version":3,"file":"employee-contacts.js","sourceRoot":"","sources":["../../../TS/Employees/employee-contacts.ts"],"names":[],"mappings":"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","sourcesContent":["// ============================================================================\n// Archivo: employee-contacts.ts\n// Proyecto: RH365.WebMVC\n// Ruta: TS/Employees/employee-contacts.ts\n// Descripcion:\n//   - Tabla de contactos dentro del formulario de empleado\n//   - Endpoint: /api/EmployeeContactsInf\n//   - CRUD con MODAL para crear/editar\n// ISO 27001: Trazabilidad de operaciones sobre contactos\n// ============================================================================\n\ninterface ContactResponse {\n    RecID: number;\n    EmployeeRefRecID: number;\n    ContactType: number;\n    ContactValue: string;\n    IsPrincipal: boolean;\n    Comment?: string;\n    CreatedBy?: string;\n    CreatedOn?: string;\n    ModifiedBy?: string;\n    ModifiedOn?: string;\n}\n\ntype ContactRow = ContactResponse;\n\n(function () {\n    const w: any = window;\n    const d: Document = document;\n    const $: any = w.jQuery || w.$;\n\n    const apiBase: string = w.RH365.urls.apiBase;\n    const formContainer = d.querySelector(\"#employee-form-page\");\n\n    if (!formContainer) return;\n\n    const token: string = formContainer.getAttribute(\"data-token\") || \"\";\n    const employeeRecId: number = parseInt(formContainer.getAttribute(\"data-recid\") || \"0\", 10);\n    const isNew: boolean = formContainer.getAttribute(\"data-isnew\") === \"true\";\n\n    const $table: any = $(\"#employee-contacts-table\");\n    if (!$table.length) return;\n\n    let contactsData: ContactRow[] = [];\n    let isEditMode: boolean = false;\n\n    // ========================================================================\n    // MAPEO DE TIPOS DE CONTACTO (GlobalsEnum.ContactType)\n    // ========================================================================\n    const contactTypeMap: { [key: number]: string } = {\n        0: 'Celular',\n        1: 'Correo',\n        2: 'Telefono',\n        3: 'Otro'\n    };\n\n    const getContactTypeName = (type: number): string => {\n        return contactTypeMap[type] || 'Desconocido';\n    };\n\n    // ========================================================================\n    // TRADUCCIONES Y FORMATEO\n    // ========================================================================\n\n    const titleize = (field: string): string => {\n        const translations: Record<string, string> = {\n            'RecID': 'ID',\n            'ContactType': 'Tipo',\n            'ContactValue': 'Valor',\n            'IsPrincipal': 'Principal',\n            'Comment': 'Comentario',\n            'CreatedOn': 'Fecha Creacion'\n        };\n        return translations[field] || field.replace(/([a-z])([A-Z])/g, \"$1 $2\").replace(/_/g, \" \").replace(/^./, (c) => c.toUpperCase());\n    };\n\n    const formatCell = (value: unknown, field: string): string => {\n        if (value == null) return \"\";\n\n        if (field === \"ContactType\") {\n            return getContactTypeName(value as number);\n        }\n\n        if (typeof value === \"boolean\") {\n            if (field === \"IsPrincipal\") {\n                return value ? '<span class=\"label label-primary\">Si</span>' : '<span class=\"label label-default\">No</span>';\n            }\n            return value ? \"Si\" : \"No\";\n        }\n\n        if (typeof value === \"string\" && /^\\d{4}-\\d{2}-\\d{2}T/.test(value)) {\n            const dt = new Date(value);\n            if (!isNaN(dt.getTime())) {\n                return dt.toLocaleDateString('es-DO', { day: '2-digit', month: '2-digit', year: 'numeric' });\n            }\n        }\n\n        return String(value);\n    };\n\n    // ========================================================================\n    // COMUNICACION CON API\n    // ========================================================================\n\n    const fetchJson = async (url: string, options?: RequestInit): Promise<any> => {\n        const headers: Record<string, string> = {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        };\n\n        if (token) {\n            headers['Authorization'] = `Bearer ${token}`;\n        }\n\n        const response = await fetch(url, { ...options, headers });\n\n        if (!response.ok) {\n            throw new Error(`HTTP ${response.status} @ ${url}`);\n        }\n\n        return response.json();\n    };\n\n    // ========================================================================\n    // CARGA DE DATOS\n    // ========================================================================\n\n    const loadContacts = async (): Promise<ContactRow[]> => {\n        if (isNew) {\n            return [];\n        }\n\n        try {\n            const url = `${apiBase}/EmployeeContactsInf?skip=0&take=100`;\n            const response = await fetchJson(url);\n\n            let allContacts: ContactRow[] = [];\n\n            if (Array.isArray(response)) {\n                allContacts = response as ContactRow[];\n            } else if (response?.Data && Array.isArray(response.Data)) {\n                allContacts = response.Data as ContactRow[];\n            }\n\n            const filteredContacts = allContacts.filter(\n                (contact: ContactRow) => contact.EmployeeRefRecID === employeeRecId\n            );\n\n            console.log(`Contactos totales: ${allContacts.length}, del empleado ${employeeRecId}: ${filteredContacts.length}`);\n\n            return filteredContacts;\n\n        } catch (error) {\n            console.error('Error cargando contactos:', error);\n            return [];\n        }\n    };\n\n    // ========================================================================\n    // MODAL\n    // ========================================================================\n\n    const openModal = (recId?: number): void => {\n        isEditMode = !!recId;\n\n        $('#modal-contact-title').text(isEditMode ? 'Editar Contacto' : 'Nuevo Contacto');\n\n        // Limpiar formulario\n        const form = d.getElementById('frm-contact') as HTMLFormElement;\n        if (form) form.reset();\n\n        $('#contact-RecID').val(recId || 0);\n        $('#contact-EmployeeRefRecID').val(employeeRecId);\n\n        // Inicializar iCheck ANTES de establecer valores\n        if ($.fn.iCheck) {\n            const $checkbox = $('#contact-IsPrincipal');\n            // Destruir iCheck si existe\n            $checkbox.iCheck('destroy');\n            // Re-inicializar\n            $checkbox.iCheck({ \n                checkboxClass: 'icheckbox_flat-green',\n                radioClass: 'iradio_flat-green'\n            });\n        }\n\n        if (isEditMode && recId) {\n            const contact = contactsData.find((c: ContactRow) => c.RecID === recId);\n            if (contact) {\n                console.log('Cargando contacto en modal:', contact);\n                \n                // Establecer valores\n                $('#contact-ContactType').val(contact.ContactType.toString());\n                $('#contact-ContactValue').val(contact.ContactValue || '');\n                $('#contact-Comment').val(contact.Comment || '');\n\n                console.log('Comment cargado:', contact.Comment);\n                console.log('Valor en textarea:', $('#contact-Comment').val());\n\n                // CRITICAL: Establecer checkbox usando iCheck\n                const $checkbox = $('#contact-IsPrincipal');\n                \n                // Esperar un tick para que iCheck esté completamente inicializado\n                setTimeout(() => {\n                    if (contact.IsPrincipal) {\n                        console.log('Marcando checkbox como checked');\n                        $checkbox.iCheck('check');\n                    } else {\n                        console.log('Desmarcando checkbox');\n                        $checkbox.iCheck('uncheck');\n                    }\n                    \n                    // Verificar estado después de establecer\n                    console.log('IsPrincipal del contacto:', contact.IsPrincipal);\n                    console.log('Checkbox is checked?', $checkbox.is(':checked'));\n                }, 100);\n            }\n        } else {\n            // Modo creación: desmarcar checkbox\n            $('#contact-IsPrincipal').iCheck('uncheck');\n        }\n\n        ($ as any)('#modal-contact').modal('show');\n    };\n\n    const saveContact = async (): Promise<void> => {\n        const form = d.getElementById('frm-contact') as HTMLFormElement;\n        if (!form.checkValidity()) {\n            form.reportValidity();\n            return;\n        }\n\n        const recId = parseInt($('#contact-RecID').val() as string) || 0;\n        \n        // CRITICAL: Leer IsPrincipal correctamente con iCheck\n        const $checkbox = $('#contact-IsPrincipal');\n        const isPrincipal = $checkbox.is(':checked');\n        \n        console.log('=== GUARDANDO CONTACTO ===');\n        console.log('Checkbox element:', $checkbox);\n        console.log('Is checked?', isPrincipal);\n        console.log('Checkbox prop checked:', $checkbox.prop('checked'));\n        \n        const payload = {\n            EmployeeRefRecID: employeeRecId,\n            ContactType: parseInt($('#contact-ContactType').val() as string),\n            ContactValue: ($('#contact-ContactValue').val() as string).trim(),\n            IsPrincipal: isPrincipal,\n            Comment: ($('#contact-Comment').val() as string || '').trim()\n        };\n\n        console.log('Payload a enviar:', payload);\n\n        try {\n            const url = isEditMode\n                ? `${apiBase}/EmployeeContactsInf/${recId}`\n                : `${apiBase}/EmployeeContactsInf`;\n\n            const method = isEditMode ? 'PUT' : 'POST';\n\n            const result = await fetchJson(url, {\n                method: method,\n                body: JSON.stringify(payload)\n            });\n\n            console.log('Respuesta del servidor:', result);\n\n            (w as any).ALERTS.ok(\n                isEditMode ? 'Contacto actualizado exitosamente' : 'Contacto creado exitosamente',\n                'Exito'\n            );\n\n            ($ as any)('#modal-contact').modal('hide');\n            \n            // CRITICAL: Recargar tabla correctamente\n            if ($.fn.DataTable.isDataTable($table)) {\n                $table.DataTable().ajax.reload(null, false); // false = mantener paginación\n            } else {\n                initializeDataTable();\n            }\n\n        } catch (error) {\n            console.error('Error al guardar contacto:', error);\n            (w as any).ALERTS.error('Error al guardar contacto', 'Error');\n        }\n    };\n\n    const deleteContact = async (recId: number): Promise<void> => {\n        const url = `${apiBase}/EmployeeContactsInf/${recId}`;\n        const response = await fetch(url, {\n            method: 'DELETE',\n            headers: {\n                'Authorization': `Bearer ${token}`\n            }\n        });\n\n        if (!response.ok) {\n            throw new Error(`Error al eliminar contacto: ${response.status}`);\n        }\n    };\n\n    // ========================================================================\n    // DATATABLE\n    // ========================================================================\n\n    const initializeDataTable = (): void => {\n        if ($.fn.DataTable.isDataTable($table)) {\n            $table.DataTable().destroy();\n        }\n\n        const columns = ['ContactType', 'ContactValue', 'IsPrincipal', 'Comment'];\n\n        const theadHtml = `\n            <tr>\n                <th style=\"width:40px;\"><input type=\"checkbox\" id=\"check-all-contacts\" class=\"flat\"/></th>\n                ${columns.map(col => `<th data-field=\"${col}\">${titleize(col)}</th>`).join('')}\n            </tr>\n        `;\n\n        $table.find('thead').html(theadHtml);\n\n        if ($.fn.iCheck) {\n            $('.flat').iCheck({ checkboxClass: 'icheckbox_flat-green' });\n        }\n\n        const dtConfig: any = {\n            processing: true,\n            serverSide: false,\n            responsive: true,\n            autoWidth: false,\n            order: [[1, 'asc']],\n            pageLength: 10,\n            lengthMenu: [[5, 10, 25], [5, 10, 25]],\n            language: {\n                lengthMenu: 'Mostrar _MENU_ registros',\n                zeroRecords: 'No hay contactos registrados',\n                info: 'Mostrando _START_ a _END_ de _TOTAL_ contactos',\n                infoEmpty: 'No hay contactos',\n                infoFiltered: '(filtrado de _MAX_ registros)',\n                search: 'Buscar:',\n                paginate: {\n                    first: 'Primera',\n                    last: 'Ultima',\n                    next: 'Siguiente',\n                    previous: 'Anterior'\n                },\n                processing: 'Procesando...'\n            },\n            columns: [\n                {\n                    data: null,\n                    orderable: false,\n                    searchable: false,\n                    className: 'text-center',\n                    render: (_data: any, _type: string, row: ContactRow) => {\n                        return `<input type=\"checkbox\" class=\"flat row-check-contact\" data-recid=\"${row.RecID || ''}\"/>`;\n                    }\n                },\n                ...columns.map(col => ({\n                    data: col,\n                    name: col,\n                    render: (data: unknown) => formatCell(data, col)\n                }))\n            ],\n            ajax: (_data: any, callback: (result: { data: ContactRow[] }) => void) => {\n                loadContacts().then(items => {\n                    contactsData = items;\n                    callback({ data: items });\n                    updateSummary(items.length);\n                }).catch(err => {\n                    console.error('Error cargando contactos:', err);\n                    showError(err.message);\n                    callback({ data: [] });\n                });\n            },\n            drawCallback: function () {\n                if ($.fn.iCheck) {\n                    $table.find('.flat').iCheck({ checkboxClass: 'icheckbox_flat-green' });\n                }\n            }\n        };\n\n        $table.DataTable(dtConfig);\n    };\n\n    const updateSummary = (count: number): void => {\n        const summary = d.getElementById('contacts-summary');\n        if (summary) {\n            summary.textContent = `${count} contacto${count !== 1 ? 's' : ''}`;\n        }\n    };\n\n    const showError = (message: string): void => {\n        const errorHtml = `\n            <tr>\n                <td colspan=\"10\" class=\"text-center text-danger\">\n                    <i class=\"fa fa-exclamation-triangle\"></i> ${message}\n                </td>\n            </tr>\n        `;\n        $table.find('tbody').html(errorHtml);\n    };\n\n    const updateButtonStates = (): void => {\n        const checkedCount = $table.find('tbody input.row-check-contact:checked').length;\n        $('#btn-edit-contact').prop('disabled', checkedCount !== 1);\n        $('#btn-delete-contact').prop('disabled', checkedCount === 0);\n    };\n\n    // ========================================================================\n    // EVENT HANDLERS\n    // ========================================================================\n\n    $(document).on('ifChanged', '#check-all-contacts', function (this: HTMLInputElement) {\n        const isChecked = $(this).is(':checked');\n        $table.find('tbody input.row-check-contact').iCheck(isChecked ? 'check' : 'uncheck');\n    });\n\n    $(document).on('ifChanged', '.row-check-contact', function () {\n        const total = $table.find('tbody input.row-check-contact').length;\n        const checked = $table.find('tbody input.row-check-contact:checked').length;\n\n        if (checked === total && total > 0) {\n            $('#check-all-contacts').iCheck('check');\n        } else {\n            $('#check-all-contacts').iCheck('uncheck');\n        }\n\n        updateButtonStates();\n    });\n\n    $('#btn-new-contact').on('click', () => {\n        if (isNew) {\n            (w as any).ALERTS.warn('Debe guardar el empleado antes de agregar contactos', 'Advertencia');\n            return;\n        }\n\n        openModal();\n    });\n\n    $('#btn-edit-contact').on('click', () => {\n        const $checked = $table.find('tbody input.row-check-contact:checked').first();\n        if ($checked.length) {\n            const recId = parseInt($checked.data('recid'));\n            openModal(recId);\n        }\n    });\n\n    $('#btn-save-contact').on('click', async () => {\n        await saveContact();\n    });\n\n    $('#btn-delete-contact').on('click', async () => {\n        const $checked = $table.find('tbody input.row-check-contact:checked');\n        const count = $checked.length;\n\n        if (count === 0) return;\n\n        const message = count === 1\n            ? '¿Esta seguro de eliminar este contacto?'\n            : `¿Esta seguro de eliminar ${count} contactos?`;\n\n        (w as any).ALERTS.confirm(\n            message,\n            'Confirmar Eliminacion',\n            async (confirmed: boolean) => {\n                if (!confirmed) return;\n\n                try {\n                    const promises: Promise<void>[] = [];\n                    $checked.each(function () {\n                        const recId = $(this).data('recid');\n                        if (recId) {\n                            promises.push(deleteContact(recId));\n                        }\n                    });\n\n                    await Promise.all(promises);\n                    (w as any).ALERTS.ok('Contacto(s) eliminado(s) correctamente', 'Exito');\n                    $table.DataTable().ajax.reload(null, false);\n                } catch (error) {\n                    console.error('Error al eliminar:', error);\n                    (w as any).ALERTS.error('Error al eliminar contacto(s)', 'Error');\n                }\n            },\n            { type: 'danger' }\n        );\n    });\n\n    $table.on('click', 'tbody tr', function (e: any) {\n        if ($(e.target).is('input.row-check-contact') || $(e.target).closest('.icheckbox_flat-green').length) {\n            return;\n        }\n\n        const $row = $(this);\n        const $checkbox = $row.find('input.row-check-contact');\n\n        if ($checkbox.length) {\n            const isChecked = $checkbox.is(':checked');\n            $checkbox.iCheck(isChecked ? 'uncheck' : 'check');\n        }\n    });\n\n    $table.on('dblclick', 'tbody tr', function () {\n        const $row = $(this);\n        const $checkbox = $row.find('input.row-check-contact');\n        const recId = parseInt($checkbox.data('recid'));\n\n        if (recId) {\n            openModal(recId);\n        }\n    });\n\n    // ========================================================================\n    // INICIALIZACION\n    // ========================================================================\n\n    $(async function () {\n        try {\n            if (isNew) {\n                const infoHtml = `\n                    <div class=\"alert alert-info\" role=\"alert\">\n                        <i class=\"fa fa-info-circle\"></i>\n                        <strong>Empleado Nuevo:</strong> \n                        Guarde primero los datos del empleado para poder agregar contactos.\n                    </div>\n                `;\n                $('#contacts-info-container').html(infoHtml);\n                $('#btn-new-contact').prop('disabled', true);\n                return;\n            }\n\n            initializeDataTable();\n\n        } catch (error) {\n            console.error('Error en inicializacion de contactos:', error);\n            showError('Error al cargar los contactos');\n        }\n    });\n})();\n"]}