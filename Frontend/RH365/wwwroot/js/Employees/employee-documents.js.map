{"version":3,"file":"employee-documents.js","sourceRoot":"","sources":["../../../TS/Employees/employee-documents.ts"],"names":[],"mappings":"AAAA,+EAA+E;AAC/E,iCAAiC;AACjC,yBAAyB;AACzB,2CAA2C;AAC3C,eAAe;AACf,4DAA4D;AAC5D,+DAA+D;AAC/D,yEAAyE;AACzE,yDAAyD;AACzD,+DAA+D;AAC/D,+EAA+E;;;;;;;;;;AAmB/E,CAAC;IACG,MAAM,CAAC,GAAQ,MAAM,CAAC;IACtB,MAAM,CAAC,GAAa,QAAQ,CAAC;IAC7B,MAAM,CAAC,GAAQ,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;IAE/B,MAAM,OAAO,GAAW,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;IAC7C,MAAM,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;IAE7D,IAAI,CAAC,aAAa;QAAE,OAAO;IAE3B,MAAM,KAAK,GAAW,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;IACrE,MAAM,aAAa,GAAW,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,GAAG,EAAE,EAAE,CAAC,CAAC;IAC5F,MAAM,KAAK,GAAY,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,KAAK,MAAM,CAAC;IAE3E,MAAM,MAAM,GAAQ,CAAC,CAAC,2BAA2B,CAAC,CAAC;IACnD,IAAI,CAAC,MAAM,CAAC,MAAM;QAAE,OAAO;IAE3B,IAAI,aAAa,GAAkB,EAAE,CAAC;IACtC,IAAI,UAAU,GAAY,KAAK,CAAC;IAEhC,2EAA2E;IAC3E,0BAA0B;IAC1B,2EAA2E;IAE3E,MAAM,QAAQ,GAAG,CAAC,KAAa,EAAU,EAAE;QACvC,MAAM,YAAY,GAA2B;YACzC,OAAO,EAAE,IAAI;YACb,kBAAkB,EAAE,gBAAgB;YACpC,gBAAgB,EAAE,QAAQ;YAC1B,SAAS,EAAE,aAAa;YACxB,aAAa,EAAE,WAAW;YAC1B,WAAW,EAAE,QAAQ;SACxB,CAAC;QACF,OAAO,YAAY,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;IACrI,CAAC,CAAC;IAEF,MAAM,UAAU,GAAG,CAAC,KAAc,EAAE,KAAa,EAAU,EAAE;QACzD,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,EAAE;YAAE,OAAO,EAAE,CAAC;QAEpE,IAAI,OAAO,KAAK,KAAK,SAAS,EAAE,CAAC;YAC7B,IAAI,KAAK,KAAK,aAAa,EAAE,CAAC;gBAC1B,OAAO,KAAK,CAAC,CAAC,CAAC,6CAA6C,CAAC,CAAC,CAAC,6CAA6C,CAAC;YACjH,CAAC;YACD,OAAO,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;QAC/B,CAAC;QAED,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;YACjE,MAAM,EAAE,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC;gBACvB,OAAO,EAAE,CAAC,kBAAkB,CAAC,OAAO,EAAE,EAAE,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;YACjG,CAAC;QACL,CAAC;QAED,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC;IACzB,CAAC,CAAC;IAEF,0DAA0D;IAC1D,MAAM,mBAAmB,GAAsC;QAC3D,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;QAC5B,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE;QAC/B,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE;QAChC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,sBAAsB,EAAE;KAC7C,CAAC;IAEF,MAAM,mBAAmB,GAAG,CAAC,SAAiB,EAAU,EAAE;QACtD,MAAM,MAAM,GAAG,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC;QACxE,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC;IAChD,CAAC,CAAC;IAEF,2EAA2E;IAC3E,uBAAuB;IACvB,2EAA2E;IAE3E,MAAM,SAAS,GAAG,CAAO,GAAW,EAAE,OAAqB,EAAgB,EAAE;QACzE,MAAM,OAAO,GAA2B;YACpC,QAAQ,EAAE,kBAAkB;YAC5B,cAAc,EAAE,kBAAkB;SACrC,CAAC;QAEF,IAAI,KAAK,EAAE,CAAC;YACR,OAAO,CAAC,eAAe,CAAC,GAAG,UAAU,KAAK,EAAE,CAAC;QACjD,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,kCAAO,OAAO,KAAE,OAAO,IAAG,CAAC;QAE3D,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;YACf,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC1D,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;QAC/C,CAAC;QAED,yEAAyE;QACzE,MAAM,WAAW,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACzD,IAAI,CAAC,WAAW,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE,CAAC;YAC5D,OAAO,EAAE,CAAC;QACd,CAAC;QAED,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;QACnC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACpC,OAAO,EAAE,CAAC;QACd,CAAC;QAED,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC,CAAA,CAAC;IAEF,2EAA2E;IAC3E,YAAY;IACZ,2EAA2E;IAE3E,MAAM,mBAAmB,GAAG,GAAS,EAAE;QACnC,IAAI,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC;YACrC,MAAM,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,CAAC;QACjC,CAAC;QAED,MAAM,OAAO,GAAa,CAAC,OAAO,EAAE,kBAAkB,EAAE,gBAAgB,EAAE,SAAS,EAAE,aAAa,EAAE,WAAW,CAAC,CAAC;QAEjH,MAAM,SAAS,GAAG;;;kBAGR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,mBAAmB,GAAG,KAAK,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;;SAErF,CAAC;QACF,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAErC,IAAI,CAAC,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC;YACd,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAE,aAAa,EAAE,sBAAsB,EAAE,CAAC,CAAC;QACjE,CAAC;QAED,MAAM,QAAQ,GAAQ;YAClB,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,KAAK;YAChB,MAAM,EAAE,KAAK;YACb,SAAS,EAAE,KAAK;YAChB,YAAY,EAAE,KAAK;YACnB,IAAI,EAAE,KAAK;YACX,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YACnB,QAAQ,EAAE;gBACN,WAAW,EAAE,+BAA+B;gBAC5C,UAAU,EAAE,eAAe;aAC9B;YACD,OAAO,EAAE;gBACL;oBACI,IAAI,EAAE,IAAI;oBACV,SAAS,EAAE,KAAK;oBAChB,UAAU,EAAE,KAAK;oBACjB,SAAS,EAAE,aAAa;oBACxB,MAAM,EAAE,CAAC,KAAU,EAAE,KAAa,EAAE,GAAgB,EAAE,EAAE;wBACpD,OAAO,sEAAsE,GAAG,CAAC,KAAK,KAAK,CAAC;oBAChG,CAAC;iBACJ;gBACD;oBACI,IAAI,EAAE,OAAO;oBACb,IAAI,EAAE,OAAO;oBACb,MAAM,EAAE,CAAC,IAAa,EAAE,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,OAAO,CAAC;iBACvD;gBACD;oBACI,IAAI,EAAE,kBAAkB;oBACxB,IAAI,EAAE,kBAAkB;oBACxB,MAAM,EAAE,CAAC,IAAa,EAAE,IAAY,EAAE,GAAgB,EAAE,EAAE;wBACtD,MAAM,QAAQ,GAAG,IAAI,IAAI,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAC/D,OAAO,UAAU,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;oBACpD,CAAC;iBACJ;gBACD;oBACI,IAAI,EAAE,gBAAgB;oBACtB,IAAI,EAAE,gBAAgB;oBACtB,MAAM,EAAE,CAAC,IAAa,EAAE,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,gBAAgB,CAAC;iBAChE;gBACD;oBACI,IAAI,EAAE,SAAS;oBACf,IAAI,EAAE,SAAS;oBACf,MAAM,EAAE,CAAC,IAAa,EAAE,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,SAAS,CAAC;iBACzD;gBACD;oBACI,IAAI,EAAE,aAAa;oBACnB,IAAI,EAAE,aAAa;oBACnB,MAAM,EAAE,CAAC,IAAa,EAAE,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,aAAa,CAAC;iBAC7D;gBACD;oBACI,IAAI,EAAE,WAAW;oBACjB,IAAI,EAAE,WAAW;oBACjB,MAAM,EAAE,CAAC,IAAa,EAAE,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,WAAW,CAAC;iBAC3D;aACJ;YACD,IAAI,EAAE,CAAC,KAAU,EAAE,QAAmD,EAAE,EAAE;gBACtE,aAAa,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;oBACzB,aAAa,GAAG,KAAK,CAAC;oBACtB,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;oBACX,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;oBACjD,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC3B,CAAC,CAAC,CAAC;YACP,CAAC;YACD,YAAY,EAAE;gBACV,IAAI,CAAC,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC;oBACd,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAE,aAAa,EAAE,sBAAsB,EAAE,CAAC,CAAC;gBAC3E,CAAC;YACL,CAAC;SACJ,CAAC;QAEF,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC,CAAC;IAEF,2EAA2E;IAC3E,iBAAiB;IACjB,2EAA2E;IAE3E,MAAM,aAAa,GAAG,GAAiC,EAAE;QACrD,IAAI,KAAK,EAAE,CAAC;YACR,eAAe,CAAC,sDAAsD,CAAC,CAAC;YACxE,OAAO,EAAE,CAAC;QACd,CAAC;QAED,IAAI,CAAC;YACD,MAAM,GAAG,GAAG,GAAG,OAAO,+CAA+C,CAAC;YACtE,MAAM,QAAQ,GAAQ,MAAM,SAAS,CAAC,GAAG,CAAC,CAAC;YAE3C,IAAI,YAAY,GAAkB,EAAE,CAAC;YAErC,IAAI,CAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,IAAI,KAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;gBACjD,YAAY,GAAG,QAAQ,CAAC,IAAqB,CAAC;YAClD,CAAC;iBAAM,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC;gBACjC,YAAY,GAAG,QAAyB,CAAC;YAC7C,CAAC;YAED,MAAM,iBAAiB,GAAG,YAAY,CAAC,MAAM,CACzC,CAAC,GAAgB,EAAE,EAAE,CAAC,GAAG,CAAC,gBAAgB,KAAK,aAAa,CAC/D,CAAC;YAEF,iBAAiB,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBAC5B,IAAI,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;oBACxB,GAAG,CAAC,gBAAgB,GAAG,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBACjE,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,OAAO,CAAC,GAAG,CAAC,uBAAuB,YAAY,CAAC,MAAM,kBAAkB,aAAa,KAAK,iBAAiB,CAAC,MAAM,EAAE,CAAC,CAAC;YAEtH,OAAO,iBAAiB,CAAC;QAE7B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC;YACnD,OAAO,EAAE,CAAC;QACd,CAAC;IACL,CAAC,CAAA,CAAC;IAEF,MAAM,eAAe,GAAG,CAAC,OAAe,EAAQ,EAAE;QAC9C,MAAM,SAAS,GAAG,CAAC,CAAC,2BAA2B,CAAC,CAAC;QACjD,SAAS,CAAC,IAAI,CAAC;;;;;oDAK6B,OAAO;;SAElD,CAAC,CAAC;IACP,CAAC,CAAC;IAEF,MAAM,SAAS,GAAG,CAAC,OAAe,EAAQ,EAAE;QACvC,CAAS,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAC9C,CAAC,CAAC;IAEF,MAAM,kBAAkB,GAAG,GAAS,EAAE;QAClC,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,wCAAwC,CAAC,CAAC,MAAM,CAAC;QAClF,CAAC,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,YAAY,KAAK,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAC,sBAAsB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,YAAY,KAAK,CAAC,CAAC,CAAC;IACnE,CAAC,CAAC;IAEF,2EAA2E;IAC3E,QAAQ;IACR,2EAA2E;IAE3E,MAAM,SAAS,GAAG,CAAO,KAAc,EAAiB,EAAE;QACtD,UAAU,GAAG,CAAC,CAAC,KAAK,CAAC;QAErB,CAAC,CAAC,uBAAuB,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC;QAErF,MAAM,IAAI,GAAG,CAAC,CAAC,cAAc,CAAC,cAAc,CAAoB,CAAC;QACjE,IAAI,IAAI;YAAE,IAAI,CAAC,KAAK,EAAE,CAAC;QAEvB,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,4BAA4B,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAEnD,MAAM,UAAU,GAAG,4CAA4C;YAC3D,mBAAmB,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,kBAAkB,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,IAAI,WAAW,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACjG,CAAC,CAAC,wBAAwB,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAE7C,8CAA8C;QAC9C,IAAI,CAAC,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC;YACd,CAAC,CAAC,uBAAuB,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACjD,CAAC;QAED,IAAI,UAAU,IAAI,KAAK,EAAE,CAAC;YACtB,MAAM,QAAQ,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC,CAAc,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC;YAC3E,IAAI,QAAQ,EAAE,CAAC;gBACX,CAAC,CAAC,wBAAwB,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;gBACvD,CAAC,CAAC,0BAA0B,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,cAAc,IAAI,EAAE,CAAC,CAAC;gBAEjE,IAAI,QAAQ,CAAC,OAAO,EAAE,CAAC;oBACnB,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oBAC3C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC;wBAC5B,CAAC,CAAC,mBAAmB,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpE,CAAC;gBACL,CAAC;gBAED,CAAC,CAAC,mBAAmB,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC;gBAEnD,IAAI,QAAQ,CAAC,WAAW,EAAE,CAAC;oBACvB,CAAC,CAAC,uBAAuB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBAC/C,CAAC;qBAAM,CAAC;oBACJ,CAAC,CAAC,uBAAuB,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACjD,CAAC;YACL,CAAC;QACL,CAAC;QAEA,CAAC,CAAC,iBAAiB,CAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAChD,CAAC,CAAA,CAAC;IAEF,2EAA2E;IAC3E,oBAAoB;IACpB,2EAA2E;IAE3E,MAAM,YAAY,GAAG,GAAwB,EAAE;QAC3C,MAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAoB,CAAC;QAExE,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,CAAC;YACxB,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,OAAO;QACX,CAAC;QAED,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,EAAY,EAAE,EAAE,CAAC,CAAC;QACjE,MAAM,gBAAgB,GAAG,QAAQ,CAAC,CAAC,CAAC,4BAA4B,CAAC,CAAC,GAAG,EAAY,EAAE,EAAE,CAAC,CAAC;QACvF,MAAM,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,GAAG,EAAY,EAAE,EAAE,CAAC,CAAC;QAC/E,MAAM,cAAc,GAAI,CAAC,CAAC,0BAA0B,CAAC,CAAC,GAAG,EAAa,CAAC,IAAI,EAAE,CAAC;QAC9E,MAAM,UAAU,GAAG,CAAC,CAAC,mBAAmB,CAAC,CAAC,GAAG,EAAY,CAAC;QAC1D,MAAM,WAAW,GAAG,CAAC,CAAC,uBAAuB,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;QAC9D,MAAM,OAAO,GAAI,CAAC,CAAC,mBAAmB,CAAC,CAAC,GAAG,EAAa,CAAC,IAAI,EAAE,CAAC;QAEhE,IAAI,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC;YACtB,SAAS,CAAC,uCAAuC,CAAC,CAAC;YACnD,OAAO;QACX,CAAC;QAED,IAAI,CAAC,cAAc,EAAE,CAAC;YAClB,SAAS,CAAC,sCAAsC,CAAC,CAAC;YAClD,OAAO;QACX,CAAC;QAED,MAAM,OAAO,GAAQ;YACjB,gBAAgB,EAAE,gBAAgB;YAClC,YAAY,EAAE,YAAY;YAC1B,cAAc,EAAE,cAAc;YAC9B,OAAO,EAAE,UAAU,IAAI,IAAI;YAC3B,WAAW,EAAE,WAAW;YACxB,OAAO,EAAE,OAAO,IAAI,IAAI;SAC3B,CAAC;QAEF,IAAI,CAAC;YACD,IAAI,UAAU,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC;gBAC1B,MAAM,GAAG,GAAG,GAAG,OAAO,sBAAsB,KAAK,EAAE,CAAC;gBACpD,MAAM,SAAS,CAAC,GAAG,EAAE;oBACjB,MAAM,EAAE,KAAK;oBACb,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;iBAChC,CAAC,CAAC;gBACF,CAAS,CAAC,MAAM,CAAC,EAAE,CAAC,oCAAoC,EAAE,OAAO,CAAC,CAAC;YACxE,CAAC;iBAAM,CAAC;gBACJ,MAAM,GAAG,GAAG,GAAG,OAAO,oBAAoB,CAAC;gBAC3C,MAAM,SAAS,CAAC,GAAG,EAAE;oBACjB,MAAM,EAAE,MAAM;oBACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;iBAChC,CAAC,CAAC;gBACF,CAAS,CAAC,MAAM,CAAC,EAAE,CAAC,+BAA+B,EAAE,OAAO,CAAC,CAAC;YACnE,CAAC;YAEA,CAAC,CAAC,iBAAiB,CAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC5C,MAAM,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;QAErC,CAAC;QAAC,OAAO,KAAU,EAAE,CAAC;YAClB,OAAO,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;YACpD,IAAI,YAAY,GAAG,+BAA+B,CAAC;YAEnD,IAAI,CAAC;gBACD,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBAC5C,IAAI,SAAS,CAAC,MAAM,EAAE,CAAC;oBACnB,MAAM,WAAW,GAAa,EAAE,CAAC;oBACjC,KAAK,MAAM,GAAG,IAAI,SAAS,CAAC,MAAM,EAAE,CAAC;wBACjC,IAAI,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC;4BACvC,MAAM,OAAO,GAAG,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;4BACtC,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC;gCACzB,WAAW,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,CAAC;4BACjC,CAAC;iCAAM,CAAC;gCACJ,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BAC9B,CAAC;wBACL,CAAC;oBACL,CAAC;oBACD,YAAY,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC1C,CAAC;qBAAM,IAAI,SAAS,CAAC,KAAK,EAAE,CAAC;oBACzB,YAAY,GAAG,SAAS,CAAC,KAAK,CAAC;gBACnC,CAAC;YACL,CAAC;YAAC,WAAM,CAAC;gBACL,YAAY,GAAG,KAAK,CAAC,OAAO,IAAI,YAAY,CAAC;YACjD,CAAC;YAED,SAAS,CAAC,YAAY,CAAC,CAAC;QAC5B,CAAC;IACL,CAAC,CAAA,CAAC;IAEF,2EAA2E;IAC3E,sBAAsB;IACtB,2EAA2E;IAE3E,MAAM,eAAe,GAAG,GAAwB,EAAE;QAC9C,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,wCAAwC,CAAC,CAAC;QACvE,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC;QAE9B,IAAI,KAAK,KAAK,CAAC;YAAE,OAAO;QAExB,MAAM,OAAO,GAAG,KAAK,KAAK,CAAC;YACvB,CAAC,CAAC,0CAA0C;YAC5C,CAAC,CAAC,4BAA4B,KAAK,cAAc,CAAC;QAErD,CAAS,CAAC,MAAM,CAAC,OAAO,CACrB,OAAO,EACP,uBAAuB,EACvB,CAAO,SAAkB,EAAE,EAAE;YACzB,IAAI,CAAC,SAAS;gBAAE,OAAO;YAEvB,IAAI,CAAC;gBACD,MAAM,QAAQ,GAAoB,EAAE,CAAC;gBACrC,QAAQ,CAAC,IAAI,CAAC;oBACV,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;oBAClD,IAAI,KAAK,EAAE,CAAC;wBACR,MAAM,GAAG,GAAG,GAAG,OAAO,sBAAsB,KAAK,EAAE,CAAC;wBACpD,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;oBACxD,CAAC;gBACL,CAAC,CAAC,CAAC;gBAEH,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAC3B,CAAS,CAAC,MAAM,CAAC,EAAE,CAAC,yCAAyC,EAAE,OAAO,CAAC,CAAC;gBACzE,MAAM,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YAErC,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,OAAO,CAAC,KAAK,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;gBAC3C,SAAS,CAAC,gCAAgC,CAAC,CAAC;YAChD,CAAC;QACL,CAAC,CAAA,EACD,EAAE,IAAI,EAAE,QAAQ,EAAE,CACrB,CAAC;IACN,CAAC,CAAA,CAAC;IAEF,2EAA2E;IAC3E,iBAAiB;IACjB,2EAA2E;IAE3E,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,WAAW,EAAE,sBAAsB,EAAE;QAChD,MAAM,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;QACzC,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IAC1F,CAAC,CAAC,CAAC;IAEH,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,WAAW,EAAE,qBAAqB,EAAE;QAC/C,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC,MAAM,CAAC;QACnE,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,wCAAwC,CAAC,CAAC,MAAM,CAAC;QAE7E,IAAI,OAAO,KAAK,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC;YACjC,CAAC,CAAC,sBAAsB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC9C,CAAC;aAAM,CAAC;YACJ,CAAC,CAAC,sBAAsB,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAChD,CAAC;QAED,kBAAkB,EAAE,CAAC;IACzB,CAAC,CAAC,CAAC;IAEH,CAAC,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QACpC,IAAI,KAAK,EAAE,CAAC;YACR,SAAS,CAAC,sDAAsD,CAAC,CAAC;YAClE,OAAO;QACX,CAAC;QACD,SAAS,EAAE,CAAC;IAChB,CAAC,CAAC,CAAC;IAEH,CAAC,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QACrC,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,wCAAwC,CAAC,CAAC,KAAK,EAAE,CAAC;QAC/E,IAAI,QAAQ,CAAC,MAAM,EAAE,CAAC;YAClB,MAAM,KAAK,GAAG,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;YACnD,SAAS,CAAC,KAAK,CAAC,CAAC;QACrB,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,CAAC,CAAC,sBAAsB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;IACvD,CAAC,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;IAElD,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,CAAM;QAC3C,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,0BAA0B,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC,MAAM,EAAE,CAAC;YACpG,OAAO;QACX,CAAC;QAED,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACrB,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;QACxD,IAAI,SAAS,CAAC,MAAM,EAAE,CAAC;YACnB,MAAM,SAAS,GAAG,SAAS,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;YAC3C,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QACtD,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,EAAE,CAAC,UAAU,EAAE,UAAU,EAAE;QAC9B,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACrB,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;QACxD,MAAM,KAAK,GAAG,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;QACpD,IAAI,KAAK,EAAE,CAAC;YACR,MAAM,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAChE,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAC1B,UAAU,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;QAC5C,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,2EAA2E;IAC3E,iBAAiB;IACjB,2EAA2E;IAE3E,CAAC,CAAC;;YACE,IAAI,CAAC;gBACD,mBAAmB,EAAE,CAAC;YAC1B,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,OAAO,CAAC,KAAK,CAAC,wCAAwC,EAAE,KAAK,CAAC,CAAC;YACnE,CAAC;QACL,CAAC;KAAA,CAAC,CAAC;AACP,CAAC,CAAC,EAAE,CAAC","sourcesContent":["// ============================================================================\n// Archivo: employee-documents.ts\n// Proyecto: RH365.WebMVC\n// Ruta: TS/Employees/employee-documents.ts\n// Descripcion:\n//   - Tabla de documentos dentro del formulario de empleado\n//   - CRUD con MODAL para crear/editar documentos de identidad\n//   - Soporta tipos: Cedula, Pasaporte, Residencia, Licencia de conducir\n//   - Filtra documentos en frontend por EmployeeRefRecID\n// ISO 27001: Trazabilidad y seguridad en gestion de documentos\n// ============================================================================\n\ninterface DocumentResponse {\n    RecID: number;\n    EmployeeRefRecID: number;\n    DocumentType: number;\n    DocumentTypeName?: string;\n    DocumentNumber?: string;\n    DueDate?: string;\n    IsPrincipal: boolean;\n    Comment?: string;\n    CreatedBy?: string;\n    CreatedOn?: string;\n    ModifiedBy?: string;\n    ModifiedOn?: string;\n}\n\ntype DocumentRow = DocumentResponse;\n\n(function () {\n    const w: any = window;\n    const d: Document = document;\n    const $: any = w.jQuery || w.$;\n\n    const apiBase: string = w.RH365.urls.apiBase;\n    const formContainer = d.querySelector(\"#employee-form-page\");\n\n    if (!formContainer) return;\n\n    const token: string = formContainer.getAttribute(\"data-token\") || \"\";\n    const employeeRecId: number = parseInt(formContainer.getAttribute(\"data-recid\") || \"0\", 10);\n    const isNew: boolean = formContainer.getAttribute(\"data-isnew\") === \"true\";\n\n    const $table: any = $(\"#employee-documents-table\");\n    if (!$table.length) return;\n\n    let documentsData: DocumentRow[] = [];\n    let isEditMode: boolean = false;\n\n    // ========================================================================\n    // TRADUCCIONES Y FORMATEO\n    // ========================================================================\n\n    const titleize = (field: string): string => {\n        const translations: Record<string, string> = {\n            'RecID': 'ID',\n            'DocumentTypeName': 'Tipo Documento',\n            'DocumentNumber': 'Numero',\n            'DueDate': 'Vencimiento',\n            'IsPrincipal': 'Principal',\n            'CreatedOn': 'Creado'\n        };\n        return translations[field] || field.replace(/([a-z])([A-Z])/g, \"$1 $2\").replace(/_/g, \" \").replace(/^./, (c) => c.toUpperCase());\n    };\n\n    const formatCell = (value: unknown, field: string): string => {\n        if (value == null || value === undefined || value === '') return \"\";\n\n        if (typeof value === \"boolean\") {\n            if (field === \"IsPrincipal\") {\n                return value ? '<span class=\"label label-primary\">Si</span>' : '<span class=\"label label-default\">No</span>';\n            }\n            return value ? \"Si\" : \"No\";\n        }\n\n        if (typeof value === \"string\" && /^\\d{4}-\\d{2}-\\d{2}T/.test(value)) {\n            const dt = new Date(value);\n            if (!isNaN(dt.getTime())) {\n                return dt.toLocaleDateString('es-DO', { day: '2-digit', month: '2-digit', year: 'numeric' });\n            }\n        }\n\n        return String(value);\n    };\n\n    // Opciones de tipo de documento (GlobalEnum.DocumentType)\n    const documentTypeOptions: { value: number; text: string }[] = [\n        { value: 0, text: 'Cedula' },\n        { value: 1, text: 'Pasaporte' },\n        { value: 2, text: 'Residencia' },\n        { value: 3, text: 'Licencia de conducir' }\n    ];\n\n    const getDocumentTypeName = (typeValue: number): string => {\n        const option = documentTypeOptions.find(opt => opt.value === typeValue);\n        return option ? option.text : 'Desconocido';\n    };\n\n    // ========================================================================\n    // COMUNICACION CON API\n    // ========================================================================\n\n    const fetchJson = async (url: string, options?: RequestInit): Promise<any> => {\n        const headers: Record<string, string> = {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        };\n\n        if (token) {\n            headers['Authorization'] = `Bearer ${token}`;\n        }\n\n        const response = await fetch(url, { ...options, headers });\n\n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({}));\n            throw new Error(JSON.stringify(errorData));\n        }\n\n        // Si la respuesta no tiene contenido (ej: DELETE), retornar objeto vacio\n        const contentType = response.headers.get('content-type');\n        if (!contentType || !contentType.includes('application/json')) {\n            return {};\n        }\n\n        const text = await response.text();\n        if (!text || text.trim().length === 0) {\n            return {};\n        }\n\n        return JSON.parse(text);\n    };\n\n    // ========================================================================\n    // DATATABLE\n    // ========================================================================\n\n    const initializeDataTable = (): void => {\n        if ($.fn.DataTable.isDataTable($table)) {\n            $table.DataTable().destroy();\n        }\n\n        const columns: string[] = ['RecID', 'DocumentTypeName', 'DocumentNumber', 'DueDate', 'IsPrincipal', 'CreatedOn'];\n\n        const theadHtml = `\n            <tr>\n                <th style=\"width:40px;\"><input type=\"checkbox\" id=\"check-all-documents\" class=\"flat\"/></th>\n                ${columns.map(col => `<th data-field=\"${col}\">${titleize(col)}</th>`).join('')}\n            </tr>\n        `;\n        $table.find('thead').html(theadHtml);\n\n        if ($.fn.iCheck) {\n            $('.flat').iCheck({ checkboxClass: 'icheckbox_flat-green' });\n        }\n\n        const dtConfig: any = {\n            processing: false,\n            serverSide: false,\n            responsive: true,\n            autoWidth: false,\n            paging: false,\n            searching: false,\n            lengthChange: false,\n            info: false,\n            order: [[1, 'asc']],\n            language: {\n                zeroRecords: 'No hay documentos registrados',\n                processing: 'Procesando...'\n            },\n            columns: [\n                {\n                    data: null,\n                    orderable: false,\n                    searchable: false,\n                    className: 'text-center',\n                    render: (_data: any, _type: string, row: DocumentRow) => {\n                        return `<input type=\"checkbox\" class=\"flat row-check-document\" data-recid=\"${row.RecID}\"/>`;\n                    }\n                },\n                {\n                    data: 'RecID',\n                    name: 'RecID',\n                    render: (data: unknown) => formatCell(data, 'RecID')\n                },\n                {\n                    data: 'DocumentTypeName',\n                    name: 'DocumentTypeName',\n                    render: (data: unknown, type: string, row: DocumentRow) => {\n                        const typeName = data || getDocumentTypeName(row.DocumentType);\n                        return formatCell(typeName, 'DocumentTypeName');\n                    }\n                },\n                {\n                    data: 'DocumentNumber',\n                    name: 'DocumentNumber',\n                    render: (data: unknown) => formatCell(data, 'DocumentNumber')\n                },\n                {\n                    data: 'DueDate',\n                    name: 'DueDate',\n                    render: (data: unknown) => formatCell(data, 'DueDate')\n                },\n                {\n                    data: 'IsPrincipal',\n                    name: 'IsPrincipal',\n                    render: (data: unknown) => formatCell(data, 'IsPrincipal')\n                },\n                {\n                    data: 'CreatedOn',\n                    name: 'CreatedOn',\n                    render: (data: unknown) => formatCell(data, 'CreatedOn')\n                }\n            ],\n            ajax: (_data: any, callback: (result: { data: DocumentRow[] }) => void) => {\n                loadDocuments().then(items => {\n                    documentsData = items;\n                    callback({ data: items });\n                }).catch(err => {\n                    console.error('Error cargando documentos:', err);\n                    callback({ data: [] });\n                });\n            },\n            drawCallback: function () {\n                if ($.fn.iCheck) {\n                    $table.find('.flat').iCheck({ checkboxClass: 'icheckbox_flat-green' });\n                }\n            }\n        };\n\n        $table.DataTable(dtConfig);\n    };\n\n    // ========================================================================\n    // CARGA DE DATOS\n    // ========================================================================\n\n    const loadDocuments = async (): Promise<DocumentRow[]> => {\n        if (isNew) {\n            showInfoMessage('Guarde el empleado primero para gestionar documentos');\n            return [];\n        }\n\n        try {\n            const url = `${apiBase}/EmployeeDocuments?pageNumber=1&pageSize=1000`;\n            const response: any = await fetchJson(url);\n\n            let allDocuments: DocumentRow[] = [];\n\n            if (response?.Data && Array.isArray(response.Data)) {\n                allDocuments = response.Data as DocumentRow[];\n            } else if (Array.isArray(response)) {\n                allDocuments = response as DocumentRow[];\n            }\n\n            const filteredDocuments = allDocuments.filter(\n                (doc: DocumentRow) => doc.EmployeeRefRecID === employeeRecId\n            );\n\n            filteredDocuments.forEach(doc => {\n                if (!doc.DocumentTypeName) {\n                    doc.DocumentTypeName = getDocumentTypeName(doc.DocumentType);\n                }\n            });\n\n            console.log(`Documentos totales: ${allDocuments.length}, del empleado ${employeeRecId}: ${filteredDocuments.length}`);\n\n            return filteredDocuments;\n\n        } catch (error) {\n            console.error('Error cargando documentos:', error);\n            return [];\n        }\n    };\n\n    const showInfoMessage = (message: string): void => {\n        const container = $('#documents-info-container');\n        container.html(`\n            <div class=\"alert alert-info alert-dismissible fade in\" role=\"alert\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">×</span>\n                </button>\n                <i class=\"fa fa-info-circle\"></i> ${message}\n            </div>\n        `);\n    };\n\n    const showError = (message: string): void => {\n        (w as any).ALERTS.error(message, 'Error');\n    };\n\n    const updateButtonStates = (): void => {\n        const checkedCount = $table.find('tbody input.row-check-document:checked').length;\n        $('#btn-edit-document').prop('disabled', checkedCount !== 1);\n        $('#btn-delete-document').prop('disabled', checkedCount === 0);\n    };\n\n    // ========================================================================\n    // MODAL\n    // ========================================================================\n\n    const openModal = async (recId?: number): Promise<void> => {\n        isEditMode = !!recId;\n\n        $('#modal-document-title').text(isEditMode ? 'Editar Documento' : 'Nuevo Documento');\n\n        const form = d.getElementById('frm-document') as HTMLFormElement;\n        if (form) form.reset();\n\n        $('#document-RecID').val(recId || 0);\n        $('#document-EmployeeRefRecID').val(employeeRecId);\n\n        const selectHtml = '<option value=\"\">-- Seleccione --</option>' +\n            documentTypeOptions.map(opt => `<option value=\"${opt.value}\">${opt.text}</option>`).join('');\n        $('#document-DocumentType').html(selectHtml);\n\n        // Inicializar IsPrincipal checkbox desmarcado\n        if ($.fn.iCheck) {\n            $('#document-IsPrincipal').iCheck('uncheck');\n        }\n\n        if (isEditMode && recId) {\n            const document = documentsData.find((d: DocumentRow) => d.RecID === recId);\n            if (document) {\n                $('#document-DocumentType').val(document.DocumentType);\n                $('#document-DocumentNumber').val(document.DocumentNumber || '');\n\n                if (document.DueDate) {\n                    const dueDate = new Date(document.DueDate);\n                    if (!isNaN(dueDate.getTime())) {\n                        $('#document-DueDate').val(dueDate.toISOString().split('T')[0]);\n                    }\n                }\n\n                $('#document-Comment').val(document.Comment || '');\n\n                if (document.IsPrincipal) {\n                    $('#document-IsPrincipal').iCheck('check');\n                } else {\n                    $('#document-IsPrincipal').iCheck('uncheck');\n                }\n            }\n        }\n\n        ($('#modal-document') as any).modal('show');\n    };\n\n    // ========================================================================\n    // GUARDAR DOCUMENTO\n    // ========================================================================\n\n    const saveDocument = async (): Promise<void> => {\n        const form = document.getElementById('frm-document') as HTMLFormElement;\n\n        if (!form.checkValidity()) {\n            form.reportValidity();\n            return;\n        }\n\n        const recId = parseInt($('#document-RecID').val() as string, 10);\n        const employeeRefRecID = parseInt($('#document-EmployeeRefRecID').val() as string, 10);\n        const documentType = parseInt($('#document-DocumentType').val() as string, 10);\n        const documentNumber = ($('#document-DocumentNumber').val() as string).trim();\n        const dueDateStr = $('#document-DueDate').val() as string;\n        const isPrincipal = $('#document-IsPrincipal').is(':checked');\n        const comment = ($('#document-Comment').val() as string).trim();\n\n        if (isNaN(documentType)) {\n            showError('Debe seleccionar un tipo de documento');\n            return;\n        }\n\n        if (!documentNumber) {\n            showError('Debe ingresar el numero de documento');\n            return;\n        }\n\n        const payload: any = {\n            EmployeeRefRecID: employeeRefRecID,\n            DocumentType: documentType,\n            DocumentNumber: documentNumber,\n            DueDate: dueDateStr || null,\n            IsPrincipal: isPrincipal,\n            Comment: comment || null\n        };\n\n        try {\n            if (isEditMode && recId > 0) {\n                const url = `${apiBase}/EmployeeDocuments/${recId}`;\n                await fetchJson(url, {\n                    method: 'PUT',\n                    body: JSON.stringify(payload)\n                });\n                (w as any).ALERTS.ok('Documento actualizado exitosamente', 'Exito');\n            } else {\n                const url = `${apiBase}/EmployeeDocuments`;\n                await fetchJson(url, {\n                    method: 'POST',\n                    body: JSON.stringify(payload)\n                });\n                (w as any).ALERTS.ok('Documento creado exitosamente', 'Exito');\n            }\n\n            ($('#modal-document') as any).modal('hide');\n            $table.DataTable().ajax.reload();\n\n        } catch (error: any) {\n            console.error('Error al guardar documento:', error);\n            let errorMessage = 'Error al guardar el documento';\n\n            try {\n                const errorData = JSON.parse(error.message);\n                if (errorData.errors) {\n                    const errorsArray: string[] = [];\n                    for (const key in errorData.errors) {\n                        if (errorData.errors.hasOwnProperty(key)) {\n                            const errList = errorData.errors[key];\n                            if (Array.isArray(errList)) {\n                                errorsArray.push(...errList);\n                            } else {\n                                errorsArray.push(errList);\n                            }\n                        }\n                    }\n                    errorMessage = errorsArray.join(', ');\n                } else if (errorData.title) {\n                    errorMessage = errorData.title;\n                }\n            } catch {\n                errorMessage = error.message || errorMessage;\n            }\n\n            showError(errorMessage);\n        }\n    };\n\n    // ========================================================================\n    // ELIMINAR DOCUMENTOS\n    // ========================================================================\n\n    const deleteDocuments = async (): Promise<void> => {\n        const $checked = $table.find('tbody input.row-check-document:checked');\n        const count = $checked.length;\n\n        if (count === 0) return;\n\n        const message = count === 1\n            ? '¿Esta seguro de eliminar este documento?'\n            : `¿Esta seguro de eliminar ${count} documentos?`;\n\n        (w as any).ALERTS.confirm(\n            message,\n            'Confirmar Eliminacion',\n            async (confirmed: boolean) => {\n                if (!confirmed) return;\n\n                try {\n                    const promises: Promise<void>[] = [];\n                    $checked.each(function () {\n                        const recId = parseInt($(this).data('recid'), 10);\n                        if (recId) {\n                            const url = `${apiBase}/EmployeeDocuments/${recId}`;\n                            promises.push(fetchJson(url, { method: 'DELETE' }));\n                        }\n                    });\n\n                    await Promise.all(promises);\n                    (w as any).ALERTS.ok('Documento(s) eliminado(s) correctamente', 'Exito');\n                    $table.DataTable().ajax.reload();\n\n                } catch (error) {\n                    console.error('Error al eliminar:', error);\n                    showError('Error al eliminar documento(s)');\n                }\n            },\n            { type: 'danger' }\n        );\n    };\n\n    // ========================================================================\n    // EVENT HANDLERS\n    // ========================================================================\n\n    $(document).on('ifChanged', '#check-all-documents', function (this: HTMLInputElement) {\n        const isChecked = $(this).is(':checked');\n        $table.find('tbody input.row-check-document').iCheck(isChecked ? 'check' : 'uncheck');\n    });\n\n    $(document).on('ifChanged', '.row-check-document', function () {\n        const total = $table.find('tbody input.row-check-document').length;\n        const checked = $table.find('tbody input.row-check-document:checked').length;\n\n        if (checked === total && total > 0) {\n            $('#check-all-documents').iCheck('check');\n        } else {\n            $('#check-all-documents').iCheck('uncheck');\n        }\n\n        updateButtonStates();\n    });\n\n    $('#btn-new-document').on('click', () => {\n        if (isNew) {\n            showError('Debe guardar el empleado antes de agregar documentos');\n            return;\n        }\n        openModal();\n    });\n\n    $('#btn-edit-document').on('click', () => {\n        const $checked = $table.find('tbody input.row-check-document:checked').first();\n        if ($checked.length) {\n            const recId = parseInt($checked.data('recid'), 10);\n            openModal(recId);\n        }\n    });\n\n    $('#btn-delete-document').on('click', deleteDocuments);\n    $('#btn-save-document').on('click', saveDocument);\n\n    $table.on('click', 'tbody tr', function (e: any) {\n        if ($(e.target).is('input.row-check-document') || $(e.target).closest('.icheckbox_flat-green').length) {\n            return;\n        }\n\n        const $row = $(this);\n        const $checkbox = $row.find('input.row-check-document');\n        if ($checkbox.length) {\n            const isChecked = $checkbox.is(':checked');\n            $checkbox.iCheck(isChecked ? 'uncheck' : 'check');\n        }\n    });\n\n    $table.on('dblclick', 'tbody tr', function () {\n        const $row = $(this);\n        const $checkbox = $row.find('input.row-check-document');\n        const recId = parseInt($checkbox.data('recid'), 10);\n        if (recId) {\n            $table.find('tbody input.row-check-document').iCheck('uncheck');\n            $checkbox.iCheck('check');\n            setTimeout(() => openModal(recId), 100);\n        }\n    });\n\n    // ========================================================================\n    // INICIALIZACION\n    // ========================================================================\n\n    $(async function () {\n        try {\n            initializeDataTable();\n        } catch (error) {\n            console.error('Error en inicializacion de documentos:', error);\n        }\n    });\n})();\n"]}