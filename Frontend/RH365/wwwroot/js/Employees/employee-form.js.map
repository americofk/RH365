{"version":3,"file":"employee-form.js","sourceRoot":"","sources":["../../../TS/Employees/employee-form.ts"],"names":[],"mappings":"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","sourcesContent":["// ============================================================================\n// Archivo: employee-form.ts\n// Proyecto: RH365.WebMVC\n// Ruta: TS/Employees/employee-form.ts\n// Descripcion: \n//   - Formulario dinamico para Crear/Editar Empleados\n//   - Tab General: Campos de negocio en LAYOUT DE 3 COLUMNAS\n//   - Tab Auditoria: Campos ISO 27001 en LAYOUT DE 1 COLUMNA\n//   - Enums definidos localmente basados en GlobalsEnum.cs\n//   - Renderizado separado para cada tab\n//   - Validacion cliente + servidor\n//   - Integracion con API REST (/api/Employees)\n//   - Labels a la izquierda de los campos\n// Estandar: ISO 27001 - Trazabilidad y validacion de datos\n// Fecha actualizacion: 2025\n// ============================================================================\n\n(function () {\n    // ========================================================================\n    // CONFIGURACION GLOBAL Y CONTEXTO\n    // ========================================================================\n    const w: any = window;\n    const d: Document = document;\n    const $: any = w.jQuery || w.$;\n\n    const apiBase: string = w.RH365.urls.apiBase;\n    const pageContainer = d.querySelector(\"#employee-form-page\");\n\n    if (!pageContainer) return;\n\n    const token: string = pageContainer.getAttribute(\"data-token\") || \"\";\n    const dataareaId: string = pageContainer.getAttribute(\"data-dataarea\") || \"DAT\";\n    const userRefRecID: number = parseInt(pageContainer.getAttribute(\"data-user\") || \"0\", 10);\n    let recId: number = parseInt(pageContainer.getAttribute(\"data-recid\") || \"0\", 10);\n    let isNew: boolean = pageContainer.getAttribute(\"data-isnew\") === \"true\";\n\n    // ========================================================================\n    // INTERFACES Y TIPOS\n    // ========================================================================\n\n    /**\n     * Configuracion de un campo del formulario.\n     * Define como se debe renderizar y validar cada campo.\n     * ISO 27001: Estructura de campos con validacion y trazabilidad\n     */\n    interface FieldConfig {\n        field: string;\n        label: string;\n        type: 'text' | 'number' | 'date' | 'datetime' | 'time' | 'textarea' | 'select' | 'checkbox' | 'enum';\n        required?: boolean;\n        maxLength?: number;\n        enumType?: string;  // Nombre del enum en GlobalsEnum.cs\n        placeholder?: string;\n        helpText?: string;\n        readonly?: boolean;\n        column?: 'left' | 'center' | 'right';  // Para tab General con 3 columnas\n    }\n\n    /**\n     * Interface para opciones de enums\n     * ISO 27001: Estructura de datos de catalogos\n     */\n    interface EnumOption {\n        value: number;\n        text: string;\n        displayName?: string;\n    }\n\n    /**\n     * Cache para almacenar enums cargados\n     * ISO 27001: Optimizacion de recursos\n     */\n    const enumsCache: Record<string, EnumOption[]> = {};\n\n    // ========================================================================\n    // VALORES DE ENUMS LOCALES (basados en GlobalsEnum.cs)\n    // ========================================================================\n\n    /**\n     * Definicion de todos los enums del sistema\n     * Basado en GlobalsEnum.cs del frontend\n     * ISO 27001: Catalogos definidos localmente para el formulario\n     */\n    const ENUM_VALUES: Record<string, EnumOption[]> = {\n        'Gender': [\n            { value: 0, text: 'Masculino', displayName: 'Masculino' },\n            { value: 1, text: 'Femenino', displayName: 'Femenino' },\n            { value: 2, text: 'No especificado', displayName: 'No especificado' }\n        ],\n        'MaritalStatus': [\n            { value: 0, text: 'Casado/a', displayName: 'Casado/a' },\n            { value: 1, text: 'Soltero/a', displayName: 'Soltero/a' },\n            { value: 2, text: 'Viudo/a', displayName: 'Viudo/a' },\n            { value: 3, text: 'Divorciado/a', displayName: 'Divorciado/a' },\n            { value: 4, text: 'Separado/a', displayName: 'Separado/a' }\n        ],\n        'PayMethod': [\n            { value: 0, text: 'Efectivo', displayName: 'Efectivo' },\n            { value: 1, text: 'Transferencia', displayName: 'Transferencia' }\n        ],\n        'WorkStatus': [\n            { value: 0, text: 'Candidato', displayName: 'Candidato' },\n            { value: 1, text: 'Despedido', displayName: 'Despedido' },\n            { value: 2, text: 'Empleado', displayName: 'Empleado' },\n            { value: 3, text: 'Deshabilitado', displayName: 'Deshabilitado' }\n        ],\n        'EmployeeAction': [\n            { value: 0, text: 'Ninguno', displayName: 'Ninguno' },\n            { value: 1, text: 'Desahucio', displayName: 'Desahucio' },\n            { value: 2, text: 'Renuncia', displayName: 'Renuncia' },\n            { value: 3, text: 'Termino Contrato Temporal', displayName: 'Termino Contrato Temporal' },\n            { value: 4, text: 'Muerte', displayName: 'Muerte' },\n            { value: 5, text: 'Transferencia', displayName: 'Transferencia' },\n            { value: 6, text: 'Termino Contrato Periodo Probatorio', displayName: 'Termino Contrato Periodo Probatorio' },\n            { value: 7, text: 'Promocion', displayName: 'Promocion' },\n            { value: 8, text: 'Transferencia Departamento', displayName: 'Transferencia Departamento' },\n            { value: 9, text: 'Transferencia Empresas', displayName: 'Transferencia Empresas' },\n            { value: 10, text: 'Contrato Temporero', displayName: 'Contrato Temporero' },\n            { value: 11, text: 'Termino Contrato', displayName: 'Termino Contrato' },\n            { value: 12, text: 'Despido', displayName: 'Despido' },\n            { value: 13, text: 'Enfermedad', displayName: 'Enfermedad' }\n        ],\n        'EmployeeType': [\n            { value: 0, text: 'Empleado', displayName: 'Empleado' },\n            { value: 1, text: 'Contratista', displayName: 'Contratista' }\n        ]\n    };\n\n    // ========================================================================\n    // DEFINICION DE CAMPOS - TAB GENERAL (Campos de Negocio en 3 COLUMNAS)\n    // ========================================================================\n    const businessFields: FieldConfig[] = [\n        // COLUMNA IZQUIERDA - Datos Personales Basicos\n        {\n            field: 'EmployeeCode',\n            label: 'Codigo Empleado',\n            type: 'text',\n            required: true,\n            maxLength: 50,\n            placeholder: 'EMP001',\n            column: 'left'\n        },\n        {\n            field: 'Name',\n            label: 'Nombre',\n            type: 'text',\n            required: true,\n            maxLength: 200,\n            column: 'left'\n        },\n        {\n            field: 'LastName',\n            label: 'Apellido',\n            type: 'text',\n            required: true,\n            maxLength: 200,\n            column: 'left'\n        },\n        {\n            field: 'PersonalTreatment',\n            label: 'Tratamiento Personal',\n            type: 'text',\n            maxLength: 50,\n            placeholder: 'Sr., Sra., Dr.',\n            column: 'left'\n        },\n        {\n            field: 'BirthDate',\n            label: 'Fecha de Nacimiento',\n            type: 'date',\n            column: 'left'\n        },\n        {\n            field: 'Age',\n            label: 'Edad (Calculada)',\n            type: 'number',\n            readonly: true,\n            column: 'left'\n        },\n        {\n            field: 'Gender',\n            label: 'Genero',\n            type: 'enum',\n            required: true,\n            enumType: 'Gender',\n            column: 'left'\n        },\n        {\n            field: 'MaritalStatus',\n            label: 'Estado Civil',\n            type: 'enum',\n            required: true,\n            enumType: 'MaritalStatus',\n            column: 'left'\n        },\n        {\n            field: 'DependentsNumbers',\n            label: 'Numero de Dependientes',\n            type: 'number',\n            placeholder: '0',\n            column: 'left'\n        },\n        {\n            field: 'Nationality',\n            label: 'Nacionalidad',\n            type: 'text',\n            maxLength: 100,\n            column: 'left'\n        },\n\n        // COLUMNA CENTRAL - Datos de Seguridad Social y Laborales\n        {\n            field: 'Nss',\n            label: 'NSS',\n            type: 'text',\n            maxLength: 50,\n            column: 'center'\n        },\n        {\n            field: 'Ars',\n            label: 'ARS',\n            type: 'text',\n            maxLength: 100,\n            column: 'center'\n        },\n        {\n            field: 'Afp',\n            label: 'AFP',\n            type: 'text',\n            maxLength: 100,\n            column: 'center'\n        },\n        {\n            field: 'AdmissionDate',\n            label: 'Fecha de Admision',\n            type: 'datetime',\n            required: true,\n            column: 'center'\n        },\n        {\n            field: 'StartWorkDate',\n            label: 'Fecha Inicio Laboral',\n            type: 'datetime',\n            required: true,\n            column: 'center'\n        },\n        {\n            field: 'PayMethod',\n            label: 'Metodo de Pago',\n            type: 'enum',\n            required: true,\n            enumType: 'PayMethod',\n            column: 'center'\n        },\n        {\n            field: 'WorkStatus',\n            label: 'Estado Laboral',\n            type: 'enum',\n            required: true,\n            enumType: 'WorkStatus',\n            column: 'center'\n        },\n        {\n            field: 'EmployeeAction',\n            label: 'Accion sobre Empleado',\n            type: 'enum',\n            required: true,\n            enumType: 'EmployeeAction',\n            column: 'center'\n        },\n        {\n            field: 'EmployeeType',\n            label: 'Tipo de Empleado',\n            type: 'enum',\n            required: true,\n            enumType: 'EmployeeType',\n            column: 'center'\n        },\n\n        // COLUMNA DERECHA - Configuraciones y Horarios\n        {\n            field: 'EmployeeStatus',\n            label: 'Estado del Empleado',\n            type: 'select',\n            required: true,\n            column: 'right'\n        },\n        {\n            field: 'WorkFrom',\n            label: 'Hora de Entrada',\n            type: 'time',\n            placeholder: '08:00',\n            column: 'right'\n        },\n        {\n            field: 'WorkTo',\n            label: 'Hora de Salida',\n            type: 'time',\n            placeholder: '17:00',\n            column: 'right'\n        },\n        {\n            field: 'BreakWorkFrom',\n            label: 'Inicio de Descanso',\n            type: 'time',\n            placeholder: '12:00',\n            column: 'right'\n        },\n        {\n            field: 'BreakWorkTo',\n            label: 'Fin de Descanso',\n            type: 'time',\n            placeholder: '13:00',\n            column: 'right'\n        },\n        {\n            field: 'HomeOffice',\n            label: 'Trabajo Remoto',\n            type: 'checkbox',\n            column: 'right'\n        },\n        {\n            field: 'OwnCar',\n            label: 'Auto Propio',\n            type: 'checkbox',\n            column: 'right'\n        },\n        {\n            field: 'HasDisability',\n            label: 'Tiene Discapacidad',\n            type: 'checkbox',\n            column: 'right'\n        },\n        {\n            field: 'ApplyForOvertime',\n            label: 'Aplica para Horas Extras',\n            type: 'checkbox',\n            column: 'right'\n        },\n        {\n            field: 'IsFixedWorkCalendar',\n            label: 'Horario de Trabajo Fijo',\n            type: 'checkbox',\n            column: 'right'\n        }\n    ];\n\n    // ========================================================================\n    // DEFINICION DE CAMPOS - TAB AUDITORIA (ISO 27001 en 1 COLUMNA)\n    // ========================================================================\n    const auditFields: FieldConfig[] = [\n        {\n            field: 'RecID',\n            label: 'RecID (Clave Primaria)',\n            type: 'number',\n            readonly: true\n        },\n        {\n            field: 'DataareaID',\n            label: 'Empresa (DataareaID)',\n            type: 'text',\n            readonly: true\n        },\n        {\n            field: 'CreatedBy',\n            label: 'Creado Por',\n            type: 'text',\n            readonly: true\n        },\n        {\n            field: 'CreatedOn',\n            label: 'Fecha de Creacion',\n            type: 'datetime',\n            readonly: true\n        },\n        {\n            field: 'ModifiedBy',\n            label: 'Modificado Por',\n            type: 'text',\n            readonly: true\n        },\n        {\n            field: 'ModifiedOn',\n            label: 'Fecha de Ultima Modificacion',\n            type: 'datetime',\n            readonly: true\n        }\n    ];\n\n    // Variable global para almacenar los datos del empleado\n    let employeeData: any = null;\n\n    // ========================================================================\n    // UTILIDADES - COMUNICACION CON API\n    // ========================================================================\n\n    /**\n     * Realiza una peticion HTTP al API con manejo de autenticacion\n     * @param url URL completa del endpoint\n     * @param options Opciones adicionales para fetch (method, body, etc.)\n     * @returns Promise con la respuesta JSON parseada\n     * ISO 27001: Comunicacion segura con el servidor mediante tokens\n     */\n    const fetchJson = async (url: string, options?: RequestInit): Promise<any> => {\n        const headers: Record<string, string> = {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        };\n\n        // Agregar token de autenticacion si existe\n        if (token) {\n            headers['Authorization'] = `Bearer ${token}`;\n        }\n\n        const response = await fetch(url, { ...options, headers });\n\n        // Si la respuesta no es exitosa, lanzar error con el detalle\n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({}));\n            throw new Error(JSON.stringify(errorData));\n        }\n\n        return response.json();\n    };\n\n    // ========================================================================\n    // GESTION DE ENUMS LOCALES\n    // ========================================================================\n\n    /**\n     * Carga todos los enums necesarios en el cache\n     * ISO 27001: Inicializacion de catalogos locales\n     */\n    const loadAllEnums = (): void => {\n        console.log('ðŸ“‹ Cargando enums locales...');\n\n        // Obtener lista de enums necesarios\n        const enumTypes = new Set<string>();\n        businessFields.forEach(field => {\n            if (field.type === 'enum' && field.enumType) {\n                enumTypes.add(field.enumType);\n            }\n        });\n\n        // Cargar cada enum en el cache\n        enumTypes.forEach(enumType => {\n            if (ENUM_VALUES[enumType]) {\n                enumsCache[enumType] = ENUM_VALUES[enumType];\n                console.log(`âœ… Enum ${enumType} cargado: ${ENUM_VALUES[enumType].length} opciones`);\n            } else {\n                console.warn(`âš ï¸ Enum ${enumType} no definido`);\n            }\n        });\n\n        console.log('âœ… Todos los enums cargados');\n    };\n\n    /**\n     * Genera opciones para el campo EmployeeStatus (Activo/Inactivo)\n     * Este es un campo booleano especial que no viene de un enum\n     * ISO 27001: Manejo especial de campos booleanos\n     */\n    const getEmployeeStatusOptions = (): EnumOption[] => {\n        return [\n            { value: 1, text: 'Activo', displayName: 'Activo' },\n            { value: 0, text: 'Inactivo', displayName: 'Inactivo' }\n        ];\n    };\n\n    // ========================================================================\n    // FUNCIONES DE CALCULO DE EDAD\n    // ========================================================================\n\n    /**\n     * Calcula la edad basandose en la fecha de nacimiento\n     * @param birthDate Fecha de nacimiento\n     * @returns Edad en aÃ±os o null si no hay fecha\n     * ISO 27001: Calculo automatico de campos derivados\n     */\n    const calculateAge = (birthDate: string | Date | null): number | null => {\n        if (!birthDate) return null;\n\n        const birth = typeof birthDate === 'string' ? new Date(birthDate) : birthDate;\n        if (isNaN(birth.getTime())) return null;\n\n        const today = new Date();\n        let age = today.getFullYear() - birth.getFullYear();\n        const monthDiff = today.getMonth() - birth.getMonth();\n\n        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {\n            age--;\n        }\n\n        return age >= 0 ? age : null;\n    };\n\n    /**\n     * Actualiza el campo de edad cuando cambia la fecha de nacimiento\n     * ISO 27001: Actualizacion automatica de campos calculados\n     */\n    const updateAgeField = (): void => {\n        const birthDateInput = document.getElementById('BirthDate') as HTMLInputElement;\n        const ageInput = document.getElementById('Age') as HTMLInputElement;\n\n        if (birthDateInput && ageInput) {\n            const birthDateValue = birthDateInput.value;\n            const age = calculateAge(birthDateValue);\n            ageInput.value = age !== null ? age.toString() : '';\n            console.log('Edad calculada:', age);\n        }\n    };\n\n    // ========================================================================\n    // RENDERIZADO DE CAMPOS\n    // ========================================================================\n\n    /**\n     * Genera el HTML de un campo segun su configuracion\n     * @param config Configuracion del campo\n     * @param value Valor actual del campo\n     * @param layoutType Tipo de layout: 'general3col' | 'audit1col'\n     * @returns String con el HTML del campo\n     * ISO 27001: Renderizado consistente con validacion de datos\n     */\n    const renderField = (config: FieldConfig, value: any, layoutType: 'general3col' | 'audit1col'): string => {\n        const fieldId = config.field;\n        const fieldName = config.field;\n\n        // Ajustar clases segun el tipo de layout\n        let labelClass = '';\n        let inputContainerClass = '';\n\n        if (layoutType === 'general3col') {\n            // Para 3 columnas, labels mas estrechos\n            labelClass = 'control-label col-md-5 col-sm-5 col-xs-12';\n            inputContainerClass = 'col-md-7 col-sm-7 col-xs-12';\n        } else if (layoutType === 'audit1col') {\n            // Para 1 columna en auditoria\n            labelClass = 'control-label col-md-3 col-sm-3 col-xs-12';\n            inputContainerClass = 'col-md-6 col-sm-6 col-xs-12';\n        }\n\n        const requiredMark = config.required ? '<span class=\"required\">*</span>' : '';\n        const readonlyAttr = config.readonly ? 'readonly' : '';\n        const requiredAttr = config.required ? 'required' : '';\n\n        let inputHtml = '';\n        let displayValue = value ?? '';\n\n        // Generar input segun el tipo de campo\n        switch (config.type) {\n            case 'textarea':\n                inputHtml = `<textarea id=\"${fieldId}\" name=\"${fieldName}\" class=\"form-control\" rows=\"3\" maxlength=\"${config.maxLength || 500}\" ${readonlyAttr} ${requiredAttr}>${displayValue}</textarea>`;\n                break;\n\n            case 'enum':\n                // Cargar opciones del enum desde el cache\n                const enumOptions = config.enumType ? (enumsCache[config.enumType] || []) : [];\n\n                // Agregar opcion vacia para campos no requeridos\n                const emptyOption = config.required ? '' : '<option value=\"\">-- Seleccione --</option>';\n\n                const enumOptionsHtml = emptyOption + enumOptions.map(opt => {\n                    const selected = displayValue !== undefined && displayValue !== null &&\n                        displayValue.toString() === opt.value.toString() ? 'selected' : '';\n                    return `<option value=\"${opt.value}\" ${selected}>${opt.displayName || opt.text}</option>`;\n                }).join('');\n\n                inputHtml = `<select id=\"${fieldId}\" name=\"${fieldName}\" class=\"form-control\" ${readonlyAttr ? 'disabled' : ''} ${requiredAttr}>${enumOptionsHtml}</select>`;\n                break;\n\n            case 'select':\n                // Para campos select que no son enums (como EmployeeStatus)\n                let options: EnumOption[] = [];\n\n                if (config.field === 'EmployeeStatus') {\n                    options = getEmployeeStatusOptions();\n                }\n\n                const selectEmptyOption = config.required ? '' : '<option value=\"\">-- Seleccione --</option>';\n\n                const selectOptionsHtml = selectEmptyOption + options.map(opt => {\n                    const selected = displayValue === true && opt.value === 1 ||\n                        displayValue === false && opt.value === 0 ||\n                        displayValue === opt.value ? 'selected' : '';\n                    return `<option value=\"${opt.value}\" ${selected}>${opt.text}</option>`;\n                }).join('');\n\n                inputHtml = `<select id=\"${fieldId}\" name=\"${fieldName}\" class=\"form-control\" ${readonlyAttr ? 'disabled' : ''} ${requiredAttr}>${selectOptionsHtml}</select>`;\n                break;\n\n            case 'checkbox':\n                const checked = displayValue === true || displayValue === 'true' || displayValue === 1 ? 'checked' : '';\n                inputHtml = `<input type=\"checkbox\" id=\"${fieldId}\" name=\"${fieldName}\" class=\"flat\" ${checked} ${readonlyAttr ? 'disabled' : ''}>`;\n                break;\n\n            case 'datetime':\n                // Formatear datetime para visualizacion en modo readonly\n                if (config.readonly && displayValue && typeof displayValue === 'string' && /^\\d{4}-\\d{2}-\\d{2}T/.test(displayValue)) {\n                    const dt = new Date(displayValue);\n                    displayValue = dt.toLocaleString('es-DO', {\n                        year: 'numeric',\n                        month: '2-digit',\n                        day: '2-digit',\n                        hour: '2-digit',\n                        minute: '2-digit'\n                    });\n                    inputHtml = `<input type=\"text\" id=\"${fieldId}\" name=\"${fieldName}\" class=\"form-control\" value=\"${displayValue}\" ${readonlyAttr}>`;\n                } else {\n                    // Para campos editables, usar datetime-local\n                    if (displayValue && typeof displayValue === 'string' && /^\\d{4}-\\d{2}-\\d{2}T/.test(displayValue)) {\n                        displayValue = displayValue.substring(0, 16);\n                    }\n                    inputHtml = `<input type=\"datetime-local\" id=\"${fieldId}\" name=\"${fieldName}\" class=\"form-control\" value=\"${displayValue}\" ${readonlyAttr} ${requiredAttr}>`;\n                }\n                break;\n\n            case 'date':\n                // Extraer solo la fecha (YYYY-MM-DD) si viene datetime\n                if (displayValue && typeof displayValue === 'string' && /^\\d{4}-\\d{2}-\\d{2}T/.test(displayValue)) {\n                    displayValue = displayValue.split('T')[0];\n                }\n                inputHtml = `<input type=\"date\" id=\"${fieldId}\" name=\"${fieldName}\" class=\"form-control\" value=\"${displayValue}\" ${readonlyAttr} ${requiredAttr}>`;\n                break;\n\n            case 'time':\n                // Formatear tiempo para input time\n                if (displayValue && typeof displayValue === 'string') {\n                    if (displayValue.includes('T')) {\n                        displayValue = displayValue.split('T')[1].substring(0, 5);\n                    } else {\n                        displayValue = displayValue.substring(0, 5);\n                    }\n                }\n                inputHtml = `<input type=\"time\" id=\"${fieldId}\" name=\"${fieldName}\" class=\"form-control\" value=\"${displayValue}\" ${readonlyAttr} ${requiredAttr} placeholder=\"${config.placeholder || ''}\">`;\n                break;\n\n            case 'number':\n                inputHtml = `<input type=\"number\" id=\"${fieldId}\" name=\"${fieldName}\" class=\"form-control\" value=\"${displayValue}\" ${readonlyAttr} ${requiredAttr}>`;\n                break;\n\n            default: // text\n                inputHtml = `<input type=\"text\" id=\"${fieldId}\" name=\"${fieldName}\" class=\"form-control\" maxlength=\"${config.maxLength || 255}\" value=\"${displayValue}\" placeholder=\"${config.placeholder || ''}\" ${readonlyAttr} ${requiredAttr}>`;\n                break;\n        }\n\n        // Agregar texto de ayuda si existe\n        const helpTextHtml = config.helpText ? `<span class=\"help-block\">${config.helpText}</span>` : '';\n\n        // Retornar el HTML completo del form-group\n        return `\n            <div class=\"form-group\">\n                <label class=\"${labelClass}\" for=\"${fieldId}\">\n                    ${config.label} ${requiredMark}\n                </label>\n                <div class=\"${inputContainerClass}\">\n                    ${inputHtml}\n                    ${helpTextHtml}\n                </div>\n            </div>\n        `;\n    };\n\n    // ========================================================================\n    // CARGA DE DATOS DEL EMPLEADO\n    // ========================================================================\n\n    /**\n     * Carga los datos del empleado desde el API (solo si es edicion)\n     * En modo creacion, renderiza los formularios vacios\n     * ISO 27001: Carga segura de datos con validacion\n     */\n    const loadEmployeeData = async (): Promise<void> => {\n        if (isNew) {\n            // Modo creacion: renderizar formularios vacios\n            renderBusinessForm({});\n            renderAuditForm({});\n            setupFieldEventListeners();\n            return;\n        }\n\n        // Modo edicion: cargar datos desde el API\n        try {\n            const url = `${apiBase}/Employees/${recId}`;\n            employeeData = await fetchJson(url);\n\n            // Calcular edad si hay fecha de nacimiento\n            if (employeeData.BirthDate) {\n                employeeData.Age = calculateAge(employeeData.BirthDate);\n            }\n\n            // Renderizar ambos formularios con los datos cargados\n            renderBusinessForm(employeeData);\n            renderAuditForm(employeeData);\n            setupFieldEventListeners();\n        } catch (error) {\n            (w as any).ALERTS.error('Error al cargar los datos del empleado', 'Error');\n\n            // Renderizar formularios vacios en caso de error\n            renderBusinessForm({});\n            renderAuditForm({});\n            setupFieldEventListeners();\n        }\n    };\n\n    // ========================================================================\n    // RENDERIZADO DE FORMULARIOS\n    // ========================================================================\n\n    /**\n     * Renderiza el formulario de campos de negocio en LAYOUT DE 3 COLUMNAS\n     * @param data Datos del empleado a mostrar\n     * ISO 27001: Presentacion organizada de campos con validacion\n     */\n    const renderBusinessForm = (data: any): void => {\n        const containerLeft = $('#dynamic-fields-col-left');\n        const containerCenter = $('#dynamic-fields-col-center');\n        const containerRight = $('#dynamic-fields-col-right');\n\n        containerLeft.empty();\n        containerCenter.empty();\n        containerRight.empty();\n\n        // Renderizar campos en columna izquierda\n        businessFields\n            .filter(config => config.column === 'left')\n            .forEach(config => {\n                let value = data[config.field];\n\n                // Para el campo Age, calcular desde BirthDate\n                if (config.field === 'Age' && data.BirthDate) {\n                    value = calculateAge(data.BirthDate);\n                }\n\n                const fieldHtml = renderField(config, value, 'general3col');\n                containerLeft.append(fieldHtml);\n            });\n\n        // Renderizar campos en columna central\n        businessFields\n            .filter(config => config.column === 'center')\n            .forEach(config => {\n                const value = data[config.field];\n                const fieldHtml = renderField(config, value, 'general3col');\n                containerCenter.append(fieldHtml);\n            });\n\n        // Renderizar campos en columna derecha\n        businessFields\n            .filter(config => config.column === 'right')\n            .forEach(config => {\n                const value = data[config.field];\n                const fieldHtml = renderField(config, value, 'general3col');\n                containerRight.append(fieldHtml);\n            });\n\n        // Inicializar iCheck para checkboxes si existe el plugin\n        if ($.fn.iCheck) {\n            $('.flat').iCheck({\n                checkboxClass: 'icheckbox_flat-green'\n            });\n        }\n    };\n\n    /**\n     * Renderiza el formulario de campos de auditoria en LAYOUT DE 1 COLUMNA\n     * @param data Datos del empleado a mostrar\n     * ISO 27001: Campos de auditoria de solo lectura para trazabilidad\n     */\n    const renderAuditForm = (data: any): void => {\n        const container = $('#audit-fields-container');\n        container.empty();\n\n        // Si es modo creacion, mostrar mensaje informativo\n        if (isNew) {\n            container.html(`\n                <div class=\"alert alert-warning\" role=\"alert\">\n                    <i class=\"fa fa-info-circle\"></i>\n                    <strong>Modo Creacion:</strong> \n                    Los campos de auditoria se generaran automaticamente despues de guardar el empleado.\n                </div>\n            `);\n            return;\n        }\n\n        // Renderizar TODOS los campos de auditoria en una sola columna\n        auditFields.forEach(config => {\n            const value = data[config.field];\n            const fieldHtml = renderField(config, value, 'audit1col');\n            container.append(fieldHtml);\n        });\n    };\n\n    // ========================================================================\n    // CONFIGURACION DE EVENT LISTENERS\n    // ========================================================================\n\n    /**\n     * Configura los event listeners para campos que requieren actualizacion dinamica\n     * ISO 27001: Control de eventos para campos calculados\n     */\n    const setupFieldEventListeners = (): void => {\n        // Event listener para calcular edad cuando cambia fecha de nacimiento\n        $(document).on('change', '#BirthDate', function () {\n            updateAgeField();\n        });\n    };\n\n    // ========================================================================\n    // CAPTURA DE DATOS DEL FORMULARIO\n    // ========================================================================\n\n    /**\n     * Obtiene los datos del formulario de negocio para enviar al API\n     * SOLO captura campos editables del Tab General\n     * @returns Objeto con los datos del formulario\n     * ISO 27001: Captura y validacion de datos antes del envio\n     */\n    const getFormData = (): any => {\n        const formData: any = {};\n\n        // Iterar SOLO sobre businessFields (no auditFields)\n        businessFields.forEach(config => {\n            const field = config.field;\n            const $input = $(`#${field}`);\n\n            // Saltar campos readonly (como Age) - NO SE ENVIAN AL API\n            if (config.readonly || field === 'Age') {\n                return;\n            }\n\n            if ($input.length) {\n                if (config.type === 'checkbox') {\n                    // Capturar valor booleano de checkbox\n                    formData[field] = $input.is(':checked');\n                } else if (config.type === 'select' && field === 'EmployeeStatus') {\n                    // Convertir a boolean para EmployeeStatus\n                    const val = $input.val();\n                    formData[field] = val === '1' || val === 1;\n                } else if (config.type === 'enum') {\n                    // Convertir valores de enums a enteros\n                    const val = $input.val();\n                    formData[field] = val !== '' && val !== null ? parseInt(val) : null;\n                } else if (config.type === 'number' || field === 'DependentsNumbers') {\n                    // Convertir a numero o null\n                    const val = $input.val();\n                    formData[field] = val ? parseInt(val) : null;\n                } else if (config.type === 'datetime') {\n                    // Convertir datetime a ISO string\n                    const val = $input.val();\n                    formData[field] = val ? new Date(val).toISOString() : null;\n                } else if (config.type === 'date') {\n                    // Convertir date a ISO string\n                    const val = $input.val();\n                    formData[field] = val ? new Date(val + 'T00:00:00').toISOString() : null;\n                } else if (config.type === 'time') {\n                    // Mantener tiempo como string\n                    const val = $input.val();\n                    formData[field] = val || null;\n                } else {\n                    // Capturar como string o null\n                    const val = $input.val();\n                    formData[field] = val || null;\n                }\n            }\n        });\n\n        return formData;\n    };\n\n    // ========================================================================\n    // GUARDADO DE EMPLEADO\n    // ========================================================================\n\n    /**\n     * Guarda el empleado en el API (POST para crear, PUT para actualizar)\n     * PERMANECE EN EL FORMULARIO despues de guardar\n     * ISO 27001: Persistencia segura de datos con validacion\n     */\n    const saveEmployee = async (): Promise<void> => {\n        const formData = getFormData();\n\n        try {\n            // Determinar URL y metodo segun el modo (crear/editar)\n            const url = isNew ? `${apiBase}/Employees` : `${apiBase}/Employees/${recId}`;\n            const method = isNew ? 'POST' : 'PUT';\n\n            // Construir payload con los campos necesarios (SIN Age)\n            const payload = {\n                EmployeeCode: formData.EmployeeCode,\n                Name: formData.Name,\n                LastName: formData.LastName,\n                PersonalTreatment: formData.PersonalTreatment || null,\n                BirthDate: formData.BirthDate || null,\n                Gender: formData.Gender,\n                DependentsNumbers: formData.DependentsNumbers || null,\n                MaritalStatus: formData.MaritalStatus,\n                Nss: formData.Nss || null,\n                Ars: formData.Ars || null,\n                Afp: formData.Afp || null,\n                AdmissionDate: formData.AdmissionDate,\n                StartWorkDate: formData.StartWorkDate,\n                PayMethod: formData.PayMethod,\n                WorkStatus: formData.WorkStatus,\n                EmployeeAction: formData.EmployeeAction,\n                EmployeeType: formData.EmployeeType,\n                EmployeeStatus: formData.EmployeeStatus,\n                CountryRecId: 0,\n                DisabilityTypeRecId: null,\n                EducationLevelRecId: null,\n                OccupationRecId: null,\n                HomeOffice: formData.HomeOffice || false,\n                OwnCar: formData.OwnCar || false,\n                HasDisability: formData.HasDisability || false,\n                ApplyForOvertime: formData.ApplyForOvertime || false,\n                IsFixedWorkCalendar: formData.IsFixedWorkCalendar || false,\n                WorkFrom: formData.WorkFrom || null,\n                WorkTo: formData.WorkTo || null,\n                BreakWorkFrom: formData.BreakWorkFrom || null,\n                BreakWorkTo: formData.BreakWorkTo || null,\n                Nationality: formData.Nationality || null\n            };\n\n            // Debug en consola\n            console.log('FormData capturado:', formData);\n            console.log('Enviando payload:', payload);\n\n            // Enviar peticion al API\n            const response = await fetchJson(url, {\n                method: method,\n                body: JSON.stringify(payload)\n            });\n\n            // Mostrar alerta de exito\n            (w as any).ALERTS.ok(\n                isNew ? 'Empleado creado exitosamente' : 'Empleado actualizado exitosamente',\n                'Exito'\n            );\n\n            // Si era nuevo, actualizar el contexto para convertirlo en edicion\n            if (isNew) {\n                isNew = false;\n                recId = response.RecID || response.recID || response.Id || response.id;\n\n                // Actualizar los atributos del contenedor\n                pageContainer.setAttribute('data-isnew', 'false');\n                pageContainer.setAttribute('data-recid', recId.toString());\n\n                // Actualizar el titulo\n                document.querySelector('h3').textContent = 'Editar Empleado';\n\n                // Recargar el empleado con los datos completos (incluidos campos de auditoria)\n                await loadEmployeeData();\n            } else {\n                // Si es edicion, solo actualizar los datos en memoria\n                employeeData = response;\n\n                // Recalcular la edad si hay fecha de nacimiento\n                if (employeeData.BirthDate) {\n                    updateAgeField();\n                }\n            }\n\n        } catch (error: any) {\n            console.error('Error al guardar:', error);\n            let errorMessage = 'Error al guardar el empleado';\n\n            // Intentar parsear el mensaje de error del API\n            try {\n                const errorData = JSON.parse(error.message);\n\n                // Si hay errores de validacion, construir mensaje detallado\n                if (errorData.errors) {\n                    const errorsArray: string[] = [];\n                    for (const key in errorData.errors) {\n                        if (errorData.errors.hasOwnProperty(key)) {\n                            const errList = errorData.errors[key];\n                            if (Array.isArray(errList)) {\n                                for (let i = 0; i < errList.length; i++) {\n                                    errorsArray.push(errList[i]);\n                                }\n                            } else {\n                                errorsArray.push(errList);\n                            }\n                        }\n                    }\n                    errorMessage = errorsArray.join(', ');\n                } else if (errorData.title) {\n                    errorMessage = errorData.title;\n                }\n            } catch {\n                // Si no se puede parsear, usar el mensaje original\n                errorMessage = error.message || errorMessage;\n            }\n\n            // Mostrar alerta de error\n            (w as any).ALERTS.error(errorMessage, 'Error');\n        }\n    };\n\n    // ========================================================================\n    // EVENT HANDLERS\n    // ========================================================================\n\n    /**\n     * Manejador del boton Guardar\n     * Valida el formulario y ejecuta el guardado\n     * ISO 27001: Validacion antes de la persistencia\n     */\n    $('#btn-save').on('click', async () => {\n        const form = document.getElementById('frm-employee') as HTMLFormElement;\n\n        // Validar campos requeridos del formulario\n        if (!form.checkValidity()) {\n            form.reportValidity();\n            return;\n        }\n\n        // Ejecutar guardado\n        await saveEmployee();\n    });\n\n    // ========================================================================\n    // INICIALIZACION\n    // ========================================================================\n\n    /**\n     * Funcion de inicializacion que se ejecuta cuando el DOM esta listo\n     * Carga los enums locales y renderiza los formularios\n     * ISO 27001: Inicializacion controlada y segura\n     */\n    $(async function () {\n        try {\n            console.log('ðŸš€ Iniciando formulario de empleados...');\n\n            // Cargar enums locales (sin llamadas al API)\n            loadAllEnums();\n\n            // Cargar datos del empleado (si es edicion)\n            await loadEmployeeData();\n\n            console.log('âœ… Formulario inicializado correctamente');\n        } catch (error) {\n            console.error('Error al inicializar el formulario:', error);\n            (w as any).ALERTS.error('Error al inicializar el formulario', 'Error');\n        }\n    });\n})();"]}